<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How CS50 ID Works</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
XXXXXXXX
<hr>
<div class="paragraph">
<p>tags: []
title: CS50 ID
---</p>
</div>
<div class="paragraph">
<p>CS50 ID is an <a href="http://en.wikipedia.org/wiki/OpenID">OpenID</a>-based service
that allows you to authenticate Harvard affiliates. It lives at
<a href="https://id.cs50.net/">https://id.cs50.net/</a>.</p>
</div>
<div class="paragraph">
<p>With CS50 ID, rather than ask users to log into your website (or even
register), you can instead redirect them to CS50 ID, where they&#8217;ll be
prompted to log in with a Harvard email address or PIN. Once they&#8217;ve
authenticated, CS50 ID will redirect users back to your website, at
which point you&#8217;ll know that they&#8217;re indeed Harvard affiliates! CS50 ID
will provide you with a unique identifier for each user (that you can
use as a key in your own database). And, depending on how the user
logged in, CS50 ID might also provide you with the user&#8217;s full name
and/or email address. CS50 ID will not provide you with users'
passwords, HUIDs, XIDs, or PINs.</p>
</div>
<div class="paragraph">
<p>To see CS50 ID in action, try out the
<a href="https://id.cs50.net/example/">example</a>. All the example does is tell you
whether you&#8217;re logged in (and what information about you was returned by
CS50 ID).</p>
</div>
<div class="sect1">
<h2 id="how_cs50_id_works">How CS50 ID Works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Per CS50 ID&#8217;s <a href="#_implementation_details">implementation details</a>, the
diagram below (inspired by
<a href="http://code.google.com/apis/accounts/docs/OpenID.html#Interaction">Google&#8217;s
own</a>) depicts how CS50 ID works (in 8 steps, from top to bottom).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="CS50_ID.png" alt="CS50_ID.png" title="image"></span></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="../CS50_Library">CS50 Library</a>, though, you don&#8217;t need to
implement (or even understand!) all of these steps in order to
<a href="#how_to_add_cs50_id_to_your_website">add CS50 ID to your website</a>.
Per the <a href="#examples">examples</a> for <a href="#php">PHP</a>,
<a href="#python">Python</a>, and <a href="#ruby">Ruby</a>, all you need do is call two
methods (inspired by <a href="https://github.com/facebook/php-sdk">Facebook&#8217;s
own</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getLoginUrl</code>, which returns a URL via which a user can log into CS50
ID</p>
</li>
<li>
<p><code>getUser</code>, which verifies CS50 ID&#8217;s response</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how_to_add_cs50_id_to_your_website">How to Add CS50 ID to Your Website</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Decide who should be allowed to log into your website. Even though
CS50 ID supports multiple options, it&#8217;s best to choose just one so that
users always log in with the same account. If you allow users multiple
options (e.g., an <code>@college.harvard.edu</code> email address or an
<code>@fas.harvard.edu</code> address), a user might log in as
<code>jharvard@college.harvard.edu</code> one day but as <code>jharvard@fas.harvard.edu</code>
another day, in which case your website won&#8217;t realize they&#8217;re they same
user (since CS50 ID will return a different identifier for each). You
can allow:</p>
<div class="ulist">
<ul>
<li>
<p>Anyone with a Harvard PIN</p>
</li>
<li>
<p>Anyone with an <code>@college.harvard.edu</code> email address</p>
</li>
<li>
<p>Anyone with an <code>@fas.harvard.edu</code> email address</p>
</li>
<li>
<p>Anyone with an <code>@post.harvard.edu</code> email address</p>
</li>
<li>
<p>Anyone with an <code>@seas.harvard.edu</code> email address</p>
</li>
</ul>
</div>
</li>
<li>
<p>Decide on:</p>
<div class="ulist">
<ul>
<li>
<p>The URL at which your website will live (e.g.,
<code>https://cloud.cs50.net/~jharvard/</code>,
<code>http://isawyouharvard.com/</code>, etc.), otherwise known as
your <code>trust_root</code> (or <code>realm</code>) address. This must be a prefix of your
<code>return_to</code> address. <strong>If you later need to change this address, you&#8217;ll
need to contact <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a>.</strong></p>
</li>
<li>
<p>The URL to which CS50 ID should return users after authentication
(e.g.,
<code>https://cloud.cs50.net/~jharvard/return_to.php</code>,
<code>http://isawyouharvard.com/return_to.php</code>, etc.),
otherwise known as your <code>return_to</code> address. <strong>If you later need to
change this address, you&#8217;ll need to contact <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a>.</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Fill out the
<a href="https://spreadsheets1.google.com/spreadsheet/viewform?hl=en&amp;hl=en&amp;formkey=dFkxWmJHSkd3N1haM1pRN3JabnFaRkE6MQ">CS50
ID Application</a>. If you don&#8217;t hear back within 72 hours, email
<a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> to inquire.</p>
</li>
<li>
<p>Download the latest version of the <a href="../CS50_Library">CS50 Library</a>
for <a href="http://mirror.cs50.net/library/php/">PHP</a>,
<a href="http://mirror.cs50.net/library/python/">Python</a>, or
<a href="http://mirror.cs50.net/library/ruby/">Ruby</a> and integrate it into your
website, per the <a href="#examples">examples</a> below.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below are examples of how to add CS50 ID to your website in
<a href="#php">PHP</a>, <a href="#python">Python</a>, and <a href="#ruby">Ruby</a> using the
<a href="../CS50_Library">CS50 Library</a>. Each example implements the behavior at
<a href="https://id.cs50.net/example/">https://id.cs50.net/example/</a>.</p>
</div>
<div class="paragraph">
<p>To add CS50 ID to your website using some other library or language,
review <a href="#how_cs50_id_works">How CS50 ID Works</a>.</p>
</div>
<div class="sect2">
<h3 id="php">PHP</h3>
<div class="paragraph">
<p>This example is available for download at
<a href="http://mirror.cs50.net/id50/php/id-1.1.zip">http://mirror.cs50.net/id50/php/id-1.1.zip</a>.</p>
</div>
<div class="sect3">
<h4 id="_config_php">config.php</h4>
<div class="paragraph">
<p>In this file, we define three constants:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TRUST_ROOT</code>, one of two URLs that you submitted on your
<a href="https://spreadsheets1.google.com/spreadsheet/viewform?hl=en&amp;hl=en&amp;formkey=dFkxWmJHSkd3N1haM1pRN3JabnFaRkE6MQ">CS50
ID Application</a>.</p>
</li>
<li>
<p><code>RETURN_TO</code>, one of two URLs that you submitted on your
<a href="https://spreadsheets1.google.com/spreadsheet/viewform?hl=en&amp;hl=en&amp;formkey=dFkxWmJHSkd3N1haM1pRN3JabnFaRkE6MQ">CS50
ID Application</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And we also <code>require</code> the <a href="../CS50_Library">CS50 Library</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="php language-php">&lt;?php

    // URL that CS50 ID should ask users to trust; must be registered with CS50,
    // per the HOWTO at https://manual.cs50.net/ID; must be a prefix of RETURN_TO
    define("TRUST_ROOT", "https://cloud.cs50.net/~jharvard/");

    // URL to which CS50 ID should return users; must be registered with CS50,
    // per the HOWTO at https://manual.cs50.net/ID
    define("RETURN_TO", "https://cloud.cs50.net/~jharvard/return_to.php");

    // CS50 Library; ideally, this should not be inside public_html (or DocumentRoot)
    require_once(dirname(__FILE__) . "/relative/path/to/CS50/CS50.php");

    // ensure $_SESSION exists
    session_start();

?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, on <code>cloud.cs50.net</code> and in the <a href="../CS50_Appliance">CS50
Appliance</a>, the CS50 Library is installed in <code>/usr/share/php/</code>, which is
in PHP&#8217;s <code>include_path</code>, which means you can <code>require</code> it with a much
shorter path:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="php language-php">require_once("CS50/CS50.php");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_index_php">index.php</h4>
<div class="paragraph">
<p>Notice how this file requires <a href="#_config.php">config.php</a>. And notice
how it infers whether a user is logged in by checking whether
<code>$_SESSION["user"]</code> has a value; that value is set by
<a href="#_return_to.php">return_to.php</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="php language-php">&lt;?php

    // configuration
    require_once(dirname(__FILE__) . "/config.php");

?&gt;

&lt;!DOCTYPE html&gt;

&lt;html lang="en-us"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta content="width=device-width" name="viewport"&gt;
    &lt;title&gt;Example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;?php

        if (isset($_SESSION["user"]))
        {
            echo "&lt;div&gt;You are logged in.  &lt;a href='logout.php'&gt;Log out&lt;/a&gt;.&lt;/div&gt;";
            echo "&lt;div&gt;Your unique identifier is &lt;b&gt;" . htmlspecialchars($_SESSION["user"]["identity"]) . "&lt;/b&gt;.&lt;/div&gt;";
            if (isset($_SESSION["user"]["fullname"]))
                echo "&lt;div&gt;Your full name is &lt;b&gt;" . htmlspecialchars($_SESSION["user"]["fullname"]) . "&lt;/b&gt;.&lt;/div&gt;";
            if (isset($_SESSION["user"]["email"]))
                echo "&lt;div&gt;Your email address is &lt;b&gt;" . htmlspecialchars($_SESSION["user"]["email"]) . "&lt;/b&gt;.&lt;/div&gt;";
        }
        else
            echo "You are not logged in.  &lt;a href='login.php'&gt;Log in&lt;/a&gt;.";

      ?&gt;
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_login_php">login.php</h4>
<div class="paragraph">
<p>Rather than display a login form to the user, notice how this file
simply redirects the user to CS50 ID, specifically to the URL returned
by <code>getLoginUrl</code>, a static method defined in the <a href="../CS50_Library">CS50
Library</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="php language-php">&lt;?php

    // configuration
    require_once(dirname(__FILE__) . "/config.php");

    // if user is already logged in, redirect to index.php
    if (isset($_SESSION["user"]))
    {
        $protocol = (isset($_SERVER["HTTPS"])) ? "https" : "http";
        $host  = $_SERVER["HTTP_HOST"];
        $path = rtrim(dirname($_SERVER["PHP_SELF"]), "/\\");
        header("Location: {$protocol}://{$host}{$path}.php");
    }

    // else redirect user to CS50 ID
    else
        header("Location: " . CS50::getLoginUrl(TRUST_ROOT, RETURN_TO));

?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_return_to_php">return_to.php</h4>
<div class="paragraph">
<p>This is the page to which the user will be returned by CS50 ID (per the
definition of <code>RETURN_TO</code> in <a href="#_config.php">config.php</a>). Note that
<code>getUser</code>, a static method defined in the <a href="../CS50_Library">CS50
Library</a>, will return an associative array that represents the user who
logged in via CS50 ID. Included in that associative array will be at
least one key:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>identity</code>, a string (that happens to be a URL) that uniquely
identifies the user</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also included in that associative array may be one or both of these
keys:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>email</code>, the user&#8217;s Harvard email address, if the user logged in via
PIN or via an <code>@college.harvard.edu</code> or <code>@fas.harvard.edu</code> address</p>
</li>
<li>
<p><code>fullname</code>, the user&#8217;s full name, if the user logged in via PIN</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that <code>getUser</code> will return <code>false</code> if the user did not, in fact,
just log in successfully via CS50 ID.</p>
</div>
<div class="paragraph">
<p>Finally, note that we "remember" that the user has logged in by storing
the associative array returned by <code>getUser</code> as the value of
<code>$_SESSION["user"]</code>. Recall that <a href="#_index.php">index.php</a> checks
<code>$_SESSION["user"]</code> to determine whether a user is logged in.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="php language-php">&lt;?php

    // configuration
    require_once(dirname(__FILE__) . "/config.php");

    // remember which user, if any, logged in
    $user = CS50::getUser(RETURN_TO);
    if ($user !== false)
        $_SESSION["user"] = $user;

    // redirect user to index.php
    $protocol = (isset($_SERVER["HTTPS"])) ? "https" : "http";
    $host  = $_SERVER["HTTP_HOST"];
    $path = rtrim(dirname($_SERVER["PHP_SELF"]), "/\\");
    header("Location: {$protocol}://{$host}{$path}.php");

?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logout_php">logout.php</h4>
<div class="paragraph">
<p>Note that logouts are not handled by CS50 ID but by your own website. So
long as you have "remembered" that a user is logged in by storing the
associative array returned by <code>getLoginUrl</code> as the value of
<code>$_SESSION["user"]</code>, per <a href="#_return_to.php">return_to.php</a>, it suffices
to unset <code>$_SESSION["user"]</code> to log the user out; you should not
redirect the user back to CS50 ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="php language-php">&lt;?php

    // configuration
    require_once(dirname(__FILE__) . "/config.php");

    // if user is already logged in, log out
    if (isset($_SESSION["user"]))
        unset($_SESSION["user"]);

    // redirect user to index.php
    $protocol = (isset($_SERVER["HTTPS"])) ? "https" : "http";
    $host  = $_SERVER["HTTP_HOST"];
    $path = rtrim(dirname($_SERVER["PHP_SELF"]), "/\\");
    header("Location: {$protocol}://{$host}{$path}.php");

?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="python">Python</h3>
<div class="paragraph">
<p>This example is available for download at
<a href="http://mirror.cs50.net/id50/python/id50-1.zip">http://mirror.cs50.net/id50/python/id50-1.zip</a>.</p>
</div>
<div class="sect3">
<h4 id="_setup">Setup</h4>
<div class="paragraph">
<p>Once you&#8217;ve installed Python and pip, download a copy of the CS50
library, which also comes with OpenID and Django, by typing in the
following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ pip install cs50</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: On Linux machines, namely the CS50 Appliance, you may need to type
the following instead to ensure the Python modules are sufficiently
accessible:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ sudo su - -c "pip install cs50"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, create a new project, like <code>id50</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ django-admin.py startproject id50</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, create an app within your project, like <code>app</code>, from within the
project&#8217;s root (same level as <code>manage.py</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ python manage.py startapp app</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first thing we must do with our app is add two constants we will use
within our views file later so refer to our trusted root and return url.
Add the following to the <code>settings.py</code> file located within your project&#8217;s
similarly named subfolder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python"># URL that CS50 ID should ask users to trust; must be registered with CS50,
# per the HOWTO at https://manual.cs50.net/ID; must be a prefix of RETURN_TO
TRUST_ROOT = 'http://127.0.0.1:8000'

# URL to which CS50 ID should return users; must be registered with CS50,
# per the HOWTO at https://manual.cs50.net/ID
RETURN_TO = 'http://127.0.0.1:8000/app/return_to'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we will configure out settings in a way such that we can index
dictionaries within our templates, which is not enabled by default. Insert
the following code into <code>settings.py</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">TEMPLATE_CONTEXT_PROCESSORS = (
    'django.core.context_processors.request',
    'django.contrib.auth.context_processors.auth',
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Django has support for database-driven web applications, but ours will only use
caching to store session and OpenID association information; type in the following
to your settings file to enable these features, and leave the DATABASES tuple in your
settings file blank:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">...
# cache settings so we can enable session saving via cache and remove database dependency
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.filebased.FileBasedCache',
        'LOCATION': tempfile.gettempdir(),
    }
}

# setting enabled to make sure our sessions are saved via cache instead of database
SESSION_ENGINE = 'django.contrib.sessions.backends.cache'
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configuring your project to use a database is very easy and even commented in the settings
file itself, but for further information, please consult the Django documentation.</p>
</div>
<div class="paragraph">
<p>We will need one more line to ensure our next bit of code works, and it is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">...
# setting enabled so that urlConfs (routes) need not have a trailing slash to be effective
APPEND_SLASH = False
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are almost done preparing the project for use with our library; however, we
may establish our URL configuration file. To do so, create a file named <code>urls.py</code>
if it does not already exist within the app folder of the project (in this case,
<code>app</code>) and fill it with the following information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">from django.conf.urls import url, patterns

from app import views

urlpatterns = patterns('',
    url(r'^$', views.index, name='index'),
    url(r'^login$', views.login, name='login'),
    url(r'^logout$', views.logout, name='logout'),
    url(r'^return_to$', views.return_to, name='return_to'),
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>These are the "routes" of our application, as other frameworks traditionally call
them, and Django refers to them as URL configurations (or URL confs). We will also
want to place the following into the <code>urls.py</code> file located within the subfolder of
our project&#8217;s root that is named after the project itself (i.e., <code>id50/id50</code> in
this case):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">from django.conf.urls import patterns, include, url

urlpatterns = patterns('',
    url(r'^app/', include('app.urls', namespace='app')),
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this, setup is complete, and we can proceed to taking a look at the views
our sample application will need.</p>
</div>
</div>
<div class="sect3">
<h4 id="_index">index</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">from django.http import HttpResponseRedirect
from django.shortcuts import render
from django.core.urlresolvers import reverse
from django.conf import settings
from cs50.cs50 import CS50
import sys
import tempfile

# index url; generic just for testing purposes
def index(request):
    return render(request, 'app/index.html')
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The index view works by simply rendering a template we will define
as the following, which should exist within a directory like the
following, assuming our project is titled id50:</p>
</div>
<div class="paragraph">
<p><code>id50/app/templates/app/index.html</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="html language-html">{% if request.session.user %}

    You are logged in. &lt;a href="/app/logout"&gt;Log out.&lt;/a&gt;&lt;br /&gt;

    Your unique ID for this site is &lt;strong&gt;{{ request.session.user.identity }}&lt;/strong&gt;&lt;br /&gt;

    {% if request.session.user.fullname %}

        Your full name is &lt;strong&gt;{{ request.session.user.fullname }}&lt;/strong&gt;&lt;br /&gt;

    {% endif %}

    {% if request.session.user.email %}

        Your email address is &lt;strong&gt;{{ request.session.user.email }}&lt;/strong&gt;&lt;br /&gt;

    {% endif %}

{% else %}

    You are not logged in. &lt;a href="/app/login"&gt;Log in.&lt;/a&gt;

{% endif %}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we can see, the template logic is fairly simple; if our request possesses a session
variable named <em>user</em> (normally indexed as request.session[<em>user</em>], but using dot syntax
for Django template syntax, hence the template settings code we had to change earlier),
we are shown a login message. If we do not have this session variable, we are instead
told we are not logged in and given a login link.</p>
</div>
</div>
<div class="sect3">
<h4 id="_login">login</h4>
<div class="paragraph">
<p>The login view is our second view, which actually contains the first call to the CS50
library:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">...
# login test using CS50 library
def login(request):
    if 'user' in request.session:
        return HttpResponseRedirect(reverse('app:index'))
    else:
        return HttpResponseRedirect(CS50.getLoginUrl(settings.TRUST_ROOT, settings.RETURN_TO, request.session))
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This does some more checking for <em>user</em> in our session; should it exist, we are
redirected back to our index, else we get directed to CS50 ID&#8217;s login screen by
passing in the root of our server and the view to which it will be directed back,
in this case a view we have titled return_to and will see soon. Also note the
request.session variable passed in as the final argument.</p>
</div>
<div class="paragraph">
<p>return_to
<sup>^</sup><sup>^</sup><sup>^</sup>^^</p>
</div>
<div class="paragraph">
<p>In this case, "return_to" is chosen as the name of this view in favor of "return"
because of issues with Python treating the word "return" as a keyword. This view is
where our login view will return once we have been verified by OpenID and is the
following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">...
# return test using CS50 library
def return_to(request):
    user = CS50.getUser(settings.RETURN_TO, request.session, request.GET, request.POST)

    if (user):
        request.session['user'] = user

    return HttpResponseRedirect(reverse('app:index'))
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>As can be seen, we obtain <code>user</code>, which is a dictionary consisting of session keys that are important
to us (in this case, a full name and email), and get redirected to our index, which should now display
an updated message about us being logged in with an ID, as well as our credentials. Our library
ultimately needs the GET parameters of our request, but we pass in the POST as well in the event we
receive any parameters from OpenID via that means, and in the event OpenID ever changes their internal
workings.</p>
</div>
</div>
<div class="sect3">
<h4 id="_logout">logout</h4>
<div class="paragraph">
<p>Our last view is a very simple one and is used to log out once we have obtained an active session. It
is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="python language-python">...
# logout function
def logout(request):
    del request.session['user']

    return HttpResponseRedirect(reverse('app:index'))</code></pre>
</div>
</div>
<div class="paragraph">
<p>As can be seen, the only thing logout does is delete the <code>user</code> dictionary from our request object,
assuming it exists, and then redirects us to index, where we will then be told we are not logged in.</p>
</div>
<div class="paragraph">
<p>With this simple example, you are now ready to begin utilizing the CS50 Library!</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ruby">Ruby</h3>
<div class="paragraph">
<p>This example is available for download at
<a href="http://mirror.cs50.net/library/ruby/examples/id.zip">http://mirror.cs50.net/library/ruby/examples/id.zip</a>.</p>
</div>
<div class="sect3">
<h4 id="_setup_2">Setup</h4>
<div class="paragraph">
<p>Once you&#8217;ve installed Ruby, Ruby on Rails, and RubyGems, download a copy
of the CS50 Library from RubyGems via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ gem install cs50</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, create a new project, like <code>id50</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ rails new id50</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, add the CS50 library to the project by adding the following to
<code>/Gemfile</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">gem 'cs50'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The project has been configured to use the CS50 Library, so a new
controller, called <code>Auth</code>, can be created to handle user authentication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ rails generate controller Auth</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_login_2">login</h4>
<div class="paragraph">
<p>In order to log in, users will be redirected to CS50 ID, via a link
generated by the CS50 Library. We must specify the location of a
temporary directory to store login information, the registered
<code>TRUST_ROOT</code> and <code>RETURN_TO</code>, and the object representing the current
session. In <code>/add/controllers/auth_controller.rb</code>, create a new action
for logging in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">def login
    # user already logged in, redirect to index
    if (session["user"])
        redirect_to :action =&gt; :index

    # redirect to CS50 ID
    else
        redirect_to CS50.getLoginUrl(Rails.root.join("tmp"), "http://localhost:3000", "http://localhost:3000/auth/return", session)
    end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_return">return</h4>
<div class="paragraph">
<p>Once the user authenticates via CS50 ID, they&#8217;ll be brought back to
<code>http://localhost:3000/auth/return</code>. At this point, we
can retrieve information associated with the user that successfully
logged in. To do so, we must again specify our temporary directory and
RETURN_TO, as well as the current session and params objects (where the
user information is stored). Because our RETURN_TO is <code>/auth/return</code>, we
need to create a <code>return</code> action:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">def return
    # get authenticated user information
    user = CS50.getUser(Rails.root.join("tmp"), "http://localhost:3000/auth/return", session, params)

    # remember which user, if any, logged in
    if (user)
        session["user"] = user
    end

    redirect_to :action =&gt; :index
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logout_2">logout</h4>
<div class="paragraph">
<p>Because we stored user information in the session, a logout is
accomplished by clearing the session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">def logout
    # clear the user's information from the session
    session["user"] = nil

    redirect_to :action =&gt; :index
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_index_2">index</h4>
<div class="paragraph">
<p>We have specified an <code>index</code> action in both <code>login</code> and <code>logout</code>, so we
must create one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">def index
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, create the corresponding view, <code>/app/views/auth.html.erb</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">&lt;% if (session["user"]) %&gt;

    You are logged in. &lt;%= link_to "Log out", :action =&gt; "logout" %&gt;&lt;br /&gt;
    Your unique ID for this site is &lt;strong&gt;&lt;%= session["user"]["identity"] %&gt;&lt;/strong&gt;&lt;br /&gt;
    &lt;% if (session["user"]["fullname"]) %&gt;
        Your full name is &lt;strong&gt;&lt;%= session["user"]["fullname"] %&gt;&lt;/strong&gt;&lt;br /&gt;
    &lt;% end %&gt;
    &lt;% if (session["user"]["email"]) %&gt;
        Your email address is &lt;strong&gt;&lt;%= session["user"]["email"] %&gt;&lt;/strong&gt;&lt;br /&gt;
    &lt;% end %&gt;


&lt;% else %&gt;
    You are not logged in. &lt;%= link_to "Log in", :action =&gt; "login" %&gt;
&lt;% end %&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we must set up routes to the four actions we&#8217;ve created, so add
the following to <code>/app/config/routes.rb</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ruby language-ruby">match 'auth' =&gt; 'auth#index'
match 'auth/login' =&gt; 'auth#login'
match 'auth/logout' =&gt; 'auth#logout'
match 'auth/return' =&gt; 'auth#return'</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run the app, start the Rails server with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ rails s</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, navigate to <code>http://localhost:3000/auth</code>. You should see a link to
log in, at which point you&#8217;ll be redirected to CS50 ID. After
authenticating, you&#8217;ll be brought back to your app, and you&#8217;ll see your
user information and a logout link!</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_details">Implementation Details</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>If you would like to add CS50 ID to your own site, you probably only
need to follow the <a href="#how_to_add_cs50_id_to_your_website">directions
above</a>.</strong></p>
</div>
<div class="paragraph">
<p>If, though, you would like to add CS50 ID to your website using some
library other than the <a href="../CS50_Library">CS50 Library</a> or some language
other than <a href="#php">PHP</a>, <a href="#python">Python</a>, and <a href="#ruby">Ruby</a>
(which the <a href="../CS50_Library">CS50 Library</a> supports), below are
implementation details for the technically curious.</p>
</div>
<div class="sect2">
<h3 id="_overview">Overview</h3>
<div class="paragraph">
<p>CS50 ID is based on
<a href="http://openid.net/get-an-openid/what-is-openid/">OpenID</a>, which "allows
you to use an existing account to sign in to multiple websites." In
<a href="http://openid.net/specs/openid-authentication-2_0.html#terminology">OpenID
terminology</a>, CS50 is an <em>OpenID Provider</em>, and a website that uses CS50
ID (e.g., yours!) is a <em>Relying Party</em>. CS50&#8217;s <em>OP Identifier</em> (i.e.,
the address on which discovery should be performed) is
<code>https://id.cs50.net/</code>. (Note the <code>https</code>.)</p>
</div>
<div class="paragraph">
<p>As per <a href="#how_cs50_id_works">how CS50 ID works</a>, whether you use the
<a href="../CS50_Library">CS50 Library</a> or some other library to add CS50 ID to
your website, here&#8217;s how authentication must flow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User tries to access a page on your website that requires login.</p>
</li>
<li>
<p>Your website performs "discovery" for CS50 ID (via
<a href="http://yadis.org/papers/yadis-v1.0.pdf">Yadis</a> or
<a href="http://openid.net/specs/openid-authentication-2_0.html#html_disco">HTML</a>).</p>
</li>
<li>
<p>CS50 ID responds to your website with its
<a href="https://id.cs50.net/xrds">XRDS file</a> (which contains CS50 ID&#8217;s endpoint
URL).</p>
</li>
<li>
<p>Your website establishes a shared secret with CS50 ID (using an
OpenID <code>associate</code> request), constructs a URL with which user can log in
via CS50 ID (using an OpenID <code>check_setup</code> request), and then redirects
user to that URL (as with an
<a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#3xx_Redirection">HTTP
302</a> status code).</p>
</li>
<li>
<p>CS50 ID prompts user to log in.</p>
</li>
<li>
<p>User logs into CS50 ID.</p>
</li>
<li>
<p>CS50 ID redirects user back to your website (via a URL whose
parameters include digitally signed OpenID fields, among which are a
unique identifier for the user as well as, possibly, the user&#8217;s full
name and/or email address).</p>
</li>
<li>
<p>Your website verifies CS50 ID&#8217;s digital signature, remembers (as
with a server-side session) that the user is now logged in, and then
shows the user the page that required login.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_compatibility">Compatibility</h3>
<div class="paragraph">
<p>CS50 ID supports</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://openid.net/specs/openid-authentication-2_0.html">OpenID
Authentication 2.0</a>
*
<a href="http://openid.net/specs/openid-simple-registration-extension-1_0.html">OpenID
Simple Registration Extension 1.0</a></p>
</li>
<li>
<p><a href="http://openid.net/specs/openid-attribute-exchange-1_0.html">OpenID
Attribute Exchange 1.0</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>but with some constraints.</p>
</div>
<div class="sect3">
<h4 id="_openid_authentication_2_0">OpenID Authentication 2.0</h4>
<div class="paragraph">
<p>CS50 ID supports
<a href="http://openid.net/specs/openid-authentication-2_0.html">OpenID
Authentication 2.0</a> but with these constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Relying Party must be approved to use CS50 ID. Review
<a href="#how_to_add_cs50_id_to_your_website">How to Add CS50 ID to Your
Website</a> to apply for approval.</p>
</li>
<li>
<p>Discovery must be performed via
<a href="http://yadis.org/papers/yadis-v1.0.pdf">Yadis</a> or
<a href="http://openid.net/specs/openid-authentication-2_0.html#html_disco">HTML</a>.
<a href="http://docs.oasis-open.org/xri/2.0/specs/cd02/xri-resolution-V2.0-cd-02.html">XRI
Resolution</a> is not supported.</p>
</li>
<li>
<p>Only <code>checkid_setup</code> is supported for authentication;
<code>checkid_immediate</code> is not supported. CS50 ID requires interactive
authentication.</p>
</li>
<li>
<p>Claimed Identifiers are not supported for <code>checkid_setup</code>. A Relying
Party MUST provide a value of
<code>http://specs.openid.net/auth/2.0/identifier_select</code>
for both <code>openid.claimed_id</code> and <code>openid.identity</code>.</p>
</li>
<li>
<p>CS50 ID responds to <code>check_setup</code> requests with a unique identifier of
the form<br>
<code>https://id.cs50.net/################################################################</code><br>
 for both <code>openid.claimed_id</code> and <code>openid.identity</code>, where<br>
<code>################################################################</code><br>
represents 64 hexadecimal digits. That identifier is dependent on the
account with which the user authenticated: if John Harvard authenticates
as <code>jharvard@college.harvard.edu</code>, CS50 ID will return a different
identifier than it would if John Harvard authenticates as
<code>jharvard@fas.harvard.edu</code>. CS50 ID does not allow users to "link"
accounts (whereby the same identifier would be returned for a user, no
matter the account with which the user authenticated).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_openid_simple_registration_extension_1_0">OpenID Simple Registration Extension 1.0</h4>
<div class="paragraph">
<p>CS50 ID supports
<a href="http://openid.net/specs/openid-simple-registration-extension-1_0.html">OpenID
Simple Registration Extension 1.0</a> but only for <code>fullname</code> and <code>email</code>.</p>
</div>
<div class="paragraph">
<p>If requested, CS50 ID may return, if available, a value for</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fullname</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>fullname</code> is a user&#8217;s full name.</p>
</div>
<div class="paragraph">
<p>If requested, CS50 ID will return, if available, a value for</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>email</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>email</code> is a user&#8217;s email address.</p>
</div>
</div>
<div class="sect3">
<h4 id="_openid_attribute_exchange_1_0">OpenID Attribute Exchange 1.0</h4>
<div class="paragraph">
<p>CS50 ID supports
<a href="http://openid.net/specs/openid-attribute-exchange-1_0.html">OpenID
Attribute Exchange 1.0</a> but only for
<code>http://axschema.org/namePerson</code> and
<code>http://axschema.org/contact/email</code>.</p>
</div>
<div class="paragraph">
<p>If requested, CS50 ID will return, if available, a value for</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http://axschema.org/namePerson</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>namePerson</code> is a user&#8217;s full name.</p>
</div>
<div class="paragraph">
<p>If requested, CS50 ID will return, if available, a value for</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http://axschema.org/contact/email</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where <code>email</code> is a user&#8217;s Harvard email address.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faqs">FAQs</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_how_should_i_store_users_in_my_database">How should I store users in my database?</h3>
<div class="paragraph">
<p>When a user authenticates, CS50 ID returns an 84-character URL that
uniquely identifies that user; the URL begins with
<code>https://id.cs50.net/</code> (which is 20 characters in
length) and ends with 64 hexadecimal digits. In a MySQL database, you
can thus store that identifier in a <code>CHAR( 84 )</code> field. For efficiency,
though, it&#8217;s best to associate a unique, auto-incrementing <code>INT</code> with
each user as well (so that you can <code>SELECT</code> users based on 4 bytes
instead of 84), as with the schema below (which assumes that <code>email</code> and
<code>fullname</code> will be no more than 128 characters each):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="sql language-sql">CREATE TABLE  `users` (
`id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`identity` CHAR( 84 ) NOT NULL ,
`fullname` VARCHAR( 128 ) NULL DEFAULT NULL ,
`email` VARCHAR( 128 ) NULL DEFAULT NULL ,
UNIQUE (
`identity`
)
) ENGINE = MYISAM ;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In theory, you could probably get away with storing only the URL&#8217;s
trailing 64 hexadecimal digits, but, to be consistent with OpenID, you
should store all 84, especially if you might decide to allow your users
to log in via other means as well (e.g., via
<a href="http://www.janrain.com/products/engage">Janrain Engage</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_does_cs50_id_uniquely_identify_users_with_84_character_urls">Why does CS50 ID uniquely identify users with 84-character URLs?</h3>
<div class="paragraph">
<p>CS50 ID is based on <a href="http://en.wikipedia.org/wiki/OpenID">OpenID</a>, which
dictates that users be uniquely identified with URLs. By convention,
OpenID providers (like CS50) return URLs based on domains that they own
(e.g., <code>id.cs50.net</code>) so that their identifiers won&#8217;t be identical to
other providers' by accident. CS50 thus standardized on URLs that begin
with <code>https://id.cs50.net/</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_doesn_t_cs50_id_always_return_a_user_s_full_name_and_or_email">Why doesn&#8217;t CS50 ID always return a user&#8217;s full name and/or email</h3>
<div class="paragraph">
<p>address?</p>
</div>
<div class="paragraph">
<p>When a user authenticates, CS50 ID will always return an 84-character
URL that uniquely identifies that user. Depending on how a user
authenticates, CS50 ID might also return the user&#8217;s full name and/or
email address.</p>
</div>
<div class="paragraph">
<p>CS50 ID may return a user&#8217;s full name if a user authenticates via:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a Harvard PIN</p>
</li>
<li>
<p>an <code>@college.harvard.edu</code> email address</p>
</li>
<li>
<p>an <code>@fas.harvard.edu</code> email address</p>
</li>
<li>
<p>an <code>@seas.harvard.edu</code> email address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CS50 ID will not return a user&#8217;s full name if a user authenticates via:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an <code>@post.harvard.edu</code> email address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CS50 ID will return a user&#8217;s email address if a user authenticates via:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an <code>@college.harvard.edu</code> email address</p>
</li>
<li>
<p>an <code>@fas.harvard.edu</code> email address</p>
</li>
<li>
<p>an <code>@seas.harvard.edu</code> email address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CS50 ID may return a user&#8217;s email address if a user authenticates via:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a Harvard PIN</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CS50 ID will not return a user&#8217;s email address if a user authenticates
via:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an <code>@post.harvard.edu</code> email address</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_can_i_develop_my_site_on_localhost_127_0_0_1">Can I develop my site on localhost (127.0.0.1)?</h3>
<div class="paragraph">
<p>Yes, CS50 ID automatically trusts URLs that begin with <code>http://localhost/</code>,
<code>http://*.local/</code> (where <code>*</code> is any hostname of your choice), or
<code>http://127.0.0.1/</code> so that you can develop your website locally and
still interact with CS50 ID, provided you&#8217;re running a web server
that&#8217;s listening for requests on <code>localhost</code>, <code>*.local</code>,
or <code>127.0.0.1</code> (on any TCP port). During development, simply change
<code>TRUST_ROOT</code> and <code>RETURN_TO</code>, per the <a href="#examples">examples</a>, to refer
to <code>localhost</code>, <code>*.local</code> (where <code>*</code> is any hostname of your choice),
or <code>127.0.0.1</code>; just be sure that <code>RETURN_TO</code> is a
prefix of <code>TRUST_ROOT</code>.</p>
</div>
<div class="paragraph">
<p>Note that, when using <code>localhost</code>, <code>*.local</code>, or
<code>127.0.0.1</code>, you&#8217;ll be able to log into CS50 ID using any supported
account (email, PIN, etc.), not just those that you chose to enable when
you registered for CS50 ID.</p>
</div>
<div class="paragraph">
<p><strong>You do not need to register <code>localhost</code>, <code>*.local</code>, or <code>127.0.0.1</code> when you apply
for CS50 ID.</strong></p>
</div>
<div class="paragraph">
<p>When ready to launch your website, just remember to change <code>TRUST_ROOT</code>
and <code>RETURN_TO</code> to the URLs with which you apply for CS50 ID.</p>
</div>
</div>
<div class="sect2">
<h3 id="_can_i_develop_my_site_on_the_cs50_appliance">Can I develop my site on the CS50 Appliance?</h3>
<div class="paragraph">
<p>Yes, provided you develop it using a "virtual host" (aka "vhost")
called <code>*.local</code> (where <code>*</code> is any hostname of your choice) in
John Harvard&#8217;s <code>~/vhosts</code> directory.  Simply edit <code>/etc/hosts</code> (inside
of the appliance or on your own Mac or PC) so that <code>*.local</code>
(where, again, <code>*</code> is any hostname of your choice) resolves
to the appliance&#8217;s IP address.</p>
</div>
<div class="paragraph">
<p>Note that, when using <code>*.local</code>, you&#8217;ll be able to log into CS50 ID using any supported
account (email, PIN, etc.), not just those that you chose to enable when
you registered for CS50 ID.</p>
</div>
<div class="paragraph">
<p><strong>You do not need to register <code>*.local</code> when you apply for CS50 ID.</strong></p>
</div>
<div class="paragraph">
<p>When ready to launch your website, just remember to change <code>TRUST_ROOT</code>
and <code>RETURN_TO</code> to the URLs with which you apply for CS50 ID.</p>
</div>
</div>
<div class="sect2">
<h3 id="_can_i_develop_my_site_on_a_private_network">Can I develop my site on a private network?</h3>
<div class="paragraph">
<p>Yes, even though you must register your own website&#8217;s URLs, CS50 ID also
trusts URLs that refer to
<a href="http://en.wikipedia.org/wiki/Private_network#Private_IPv4_address_spaces">private
IPv4 addresses</a> (e.g., 192.168.56.50) automatically so that you can
develop your website locally and still interact with CS50 ID, provided
you&#8217;re running a web server that&#8217;s listening for requests on an private
IPv4 address (on any TCP port). During development, simply change
<code>TRUST_ROOT</code> and <code>RETURN_TO</code>, per the <a href="#_examples">examples</a>, to refer
to the server&#8217;s private IP address; just be sure that <code>RETURN_TO</code> is
still a prefix of <code>TRUST_ROOT</code>. Note that, when using a private IPv4
address, you&#8217;ll be able to log into CS50 ID using any supported account
(email, PIN, etc.), not just those that you chose to enable when you
registered for CS50 ID.</p>
</div>
<div class="paragraph">
<p><strong>You do not need to register your server&#8217;s private IPv4 address when you
apply for CS50 ID.</strong></p>
</div>
<div class="paragraph">
<p>When ready to launch your website, just remember to change <code>TRUST_ROOT</code>
and <code>RETURN_TO</code> to the URLs with which you apply for CS50 ID.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_site_you_tried_to_log_into_is_not_configured_properly_for_cs50_id">The site you tried to log into is not configured properly for CS50 ID</h3>
<div class="paragraph">
<p>If a user reports seeing this message, odds are you&#8217;re using incorrect
(or unapproved) values for <code>TRUST_ROOT</code> and/or <code>RETURN_TO</code> in your code.
Best to double-check those values.</p>
</div>
<div class="paragraph">
<p>If still unsure what&#8217;s wrong (or if you don&#8217;t recall which URLs we
approved), email <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> to inquire.</p>
</div>
</div>
<div class="sect2">
<h3 id="_invalid_username_and_or_password">Invalid username and/or password</h3>
<div class="paragraph">
<p>If a user reports seeing this message, odds are the user is using the
wrong account, username, and/or password. Encourage the user to try
again.</p>
</div>
<div class="paragraph">
<p>If the user continues to have trouble logging in &#8230;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230; with an <code>@college.harvard.edu</code> account, ask the user to try
logging into <a href="https://webmail.college.harvard.edu/">https://webmail.college.harvard.edu/</a>. If the user <strong>cannot</strong>,
refer the user to <a href="https://webmail.college.harvard.edu/feedback.asp">https://webmail.college.harvard.edu/feedback.asp</a>. If
the user <strong>can</strong>, email <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> to inquire, CCing the user.</p>
</li>
<li>
<p>&#8230; with an <code>@fas.harvard.edu</code> account, ask the user to try logging
into <a href="https://webmail.fas.harvard.edu/">https://webmail.fas.harvard.edu/</a>. If the user <strong>cannot</strong>, refer the
user to <a href="mailto:help@fas.harvard.edu">help@fas.harvard.edu</a> or 617-495-5000. If the user <strong>can</strong>, email
<a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> to inquire, CCing the user.</p>
</li>
<li>
<p>&#8230; with an <code>@seas.harvard.edu</code> account, ask the user to try logging
into both <a href="https://mail.seas.harvard.edu/">https://mail.seas.harvard.edu/</a> and
<a href="https://email.seas.harvard.edu/">https://email.seas.harvard.edu/</a>. If the user <strong>cannot</strong> log into either,
refer the user to <a href="mailto:help@fas.harvard.edu">help@fas.harvard.edu</a> or 617-495-5000. If the user
<strong>can</strong> log into at least one, email <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> to inquire, CCing
the user.</p>
</li>
<li>
<p>&#8230; with a PIN, ask the user to try logging into
<a href="https://id.cs50.net/example/">https://id.cs50.net/example/</a> via PIN. If the user <strong>cannot</strong>, refer the
user to <a href="http://reference.pin.harvard.edu/login-help">http://reference.pin.harvard.edu/login-help</a>. If the user <strong>can</strong>,
email <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> to inquire, CCing the user.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_cs50_library_requires_bcmath_or_gmp_extension_module">CS50 Library requires bcmath or gmp extension module</h3>
<div class="paragraph">
<p>The <a href="../CS50_Library#PHP">CS50 Library for PHP</a> is pre-installed in the
<a href="../Appliance">CS50 Appliance</a> and on <code>cloud.cs50.net</code>, as are all
dependencies. But if using the library on some other server, you may see
this error if <a href="http://php.net/manual/en/book.bc.php">BC Math</a> and
<a href="http://php.net/manual/en/book.gmp.php">GMP</a> are not already installed.</p>
</div>
<div class="sect3">
<h4 id="_centos_fedora_redhat">CentOS, Fedora, RedHat</h4>
<div class="paragraph">
<p>Try running the following commands as <code>root</code>:</p>
</div>
<div class="paragraph">
<p><code>yum install php-bcmath php-gmp</code><br>
<code>service httpd restart</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_debian_ubuntu">Debian, Ubuntu</h4>
<div class="paragraph">
<p>Try running the following commands as <code>root</code>:</p>
</div>
<div class="paragraph">
<p><code>apt-get install php5-gmp</code><br>
<code>service apache2 restart</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_windows">Windows</h4>
<div class="paragraph">
<p>Open <code>php.ini</code> with a text editor and change:</p>
</div>
<div class="paragraph">
<p><code>;extension=php_gmp.dll</code></p>
</div>
<div class="paragraph">
<p>if present to:</p>
</div>
<div class="paragraph">
<p><code>extension=php_gmp.dll</code></p>
</div>
<div class="paragraph">
<p>Then restart your web server.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cs50_library_requires_dom_or_domxml_extension_module">CS50 Library requires dom or domxml extension module</h3>
<div class="paragraph">
<p>The <a href="../CS50_Library#PHP">CS50 Library for PHP</a> is pre-installed in the
<a href="../Appliance">CS50 Appliance</a> and on <code>cloud.cs50.net</code>, as are all
dependencies. But if using the library on some other server, you may see
this error if PHP&#8217;s <a href="http://php.net/manual/en/book.dom.php">DOM</a> and
<a href="http://php.net/manual/en/book.domxml.php">DOM XML</a> are not already
installed.</p>
</div>
<div class="sect3">
<h4 id="_centos_fedora_redhat_2">CentOS, Fedora, RedHat</h4>
<div class="paragraph">
<p>Try running the following commands as <code>root</code>:</p>
</div>
<div class="paragraph">
<p><code>yum install php-xml</code><br>
<code>service httpd restart</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cs50_library_requires_openssl_extension_module">CS50 Library requires openssl extension module</h3>
<div class="paragraph">
<p>The <a href="../CS50_Library#PHP">CS50 Library for PHP</a> is pre-installed in the
<a href="../Appliance">CS50 Appliance</a> and on <code>cloud.cs50.net</code>, as are all
dependencies. But if using the library on some other server, you may see
this error if <a href="http://php.net/manual/en/book.openssl.php">OpenSSL</a> is not
already installed.</p>
</div>
<div class="sect3">
<h4 id="_windows_2">Windows</h4>
<div class="paragraph">
<p>Open <code>php.ini</code> with a text editor and change:</p>
</div>
<div class="paragraph">
<p><code>;extension=php_openssl.dll</code></p>
</div>
<div class="paragraph">
<p>if present to:</p>
</div>
<div class="paragraph">
<p><code>extension=php_openssl.dll</code></p>
</div>
<div class="paragraph">
<p>Then restart your web server.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_support">Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Email <a href="mailto:sysadmins@cs50.net">sysadmins@cs50.net</a> with questions.</p>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Last updated 2013-11-30 18:50:11 EST
</div>
</div>
</body>
</html>