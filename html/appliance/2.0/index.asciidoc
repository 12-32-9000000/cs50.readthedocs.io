---
tags: []
title: CS50 Appliance 2.0
---

*This HOWTO is for version 2.0 of the CS50 Appliance. A
link:../../Appliance[newer version] of the appliance is now available.*

The CS50 Appliance is a
http://en.wikipedia.org/wiki/Virtual_machine[virtual machine] (VM) that
lets you "take" CS50, even if you're not a student at Harvard.

It's based on
http://en.wikipedia.org/wiki/Fedora_(operating_system)[Fedora], a
http://en.wikipedia.org/wiki/Linux[Linux]-based
http://en.wikipedia.org/wiki/Operating_system[operating system]. It's an
http://en.wikipedia.org/wiki/Computer_appliance[appliance] in the sense
that we've preconfigured this VM for a specific purpose: CS50!

In other words, if you don't have an account on `nice.fas.harvard.edu`
or `cloud.cs50.net` (because you're not a student in CS50), you can
still play along at home. The CS50 Appliance will let you compile source
code from http://cs50.tv/2010/fall#l=lectures[lectures] and implement
http://cs50.tv/2010/fall#l=psets[problem sets] without having to figure
out how to configure
http://en.wikipedia.org/wiki/GNU_Compiler_Collection[GCC], etc.
yourself. Having the CS50 Appliance on your computer is like having your
own, local version of `nice.fas.harvard.edu` or `cloud.cs50.net`! Put
another way, the CS50 Appliance lets you run Linux inside of a window on
your own computer, even if you're already running (some other version
of) Linux, Mac OS, Solaris, or Windows!

Make sense? (If not, you may want to watch, at least, Week 0's and Week
1's http://cs50.tv/2010/fall/#l=lectures[lectures]. :-)

Incidentally, the Appliance is always work in progress, so please
forgive any bugs! We'll document link:#__known_issues[known issues] down
below. Do turn to the course's http://cs50.tv/2009/fall/#r=group[Google
Group] if you run into problems, and we'll do our best to improve the
experience.


Cheatsheet
----------

See link:#__instructions[instructions] for much more detail.

[cols=",",]
|=======================================================================
|*Your Name* |John Harvard

|*Your Username* |jharvard

|*Your Password* |crimson

|*Superuser's Username* |root

|*Superuser's Password* |crimson

|*Appliance's IP* |192.168.56.50

|*Your Computer's IP* |192.168.56.1

|*Your MySQL Server (DB_SERVER)* |localhost

|*Your MySQL Username (DB_USER)* |jharvard

|*Your MySQL Password (DB_PASS)* |crimson

|*Superuser's MySQL Username* |root

|*Superuser's MySQL Password* |crimson

|*phpMyAdmin* |http://192.168.56.50/phpmyadmin/

|*Your Homepage* |http://192.168.56.50/~jharvard/

|*VirtualBox's Host Key* |left-Command on a Mac; right-Control on any
other OS

|=======================================================================


Instructions
------------


How to Install Appliance
~~~~~~~~~~~~~~~~~~~~~~~~

1.  Download and install
http://en.wikipedia.org/wiki/VirtualBox[VirtualBox] from
http://www.virtualbox.org/wiki/Downloads. VirtualBox is a free program
(known as a http://en.wikipedia.org/wiki/Hypervisor[hypervisor]) from
http://www.oracle.com/[Oracle] that will let you run
http://en.wikipedia.org/wiki/Virtual_machine[virtual machines] on your
own computer, whether you run Linux, Mac OS, Solaris, or Windows.
2.  Download the latest CS50 Appliance at
http://mirror.cs50.net/appliance/2.0/cs50-appliance-2.0-10.zip. Then
unzip it. *Do not double-click the files within.*
3.  Launch VirtualBox (as by clicking its icon wherever you installed
it). Select *Import Appliance...* from VirtualBox's *File* menu. Click
*Choose*. Navigate your way to that unzipped *cs50-appliance-2.0*
folder, highlight the *cs50-appliance-2.0.ovf* file within, and click
*Open*. Then click *Continue*. You should see a summary of the
appliance's settings. Click *Done*. Within a few seconds or minutes, you
should see *CS50 Appliance* in VirtualBox's left-hand menu. Click it to
highlight it, then click *Start*.


How to Update Appliance
~~~~~~~~~~~~~~~~~~~~~~~

The latest release of the CS50 Appliance is *2.0-10*. To check which
version you have, link:#how_to_open_a_terminal[open a terminal] and look
to the right of the
http://www.network-science.de/ascii/ascii.php?TEXT=cs50+appliance&x=34&y=10&FONT=ogre&RICH=no&FORM=left&STRE=no&WIDT=80[ASCII
art], as in the below.

---------------------------------------------------------------------------
           ____   ___                      _ _
   ___ ___| ___| / _ \    __ _ _ __  _ __ | (_) __ _ _ __   ___ ___
  / __/ __|___ \| | | |  / _` | '_ \| '_ \| | |/ _` | '_ \ / __/ _ \
 | (__\__ \___) | |_| | | (_| | |_) | |_) | | | (_| | | | | (_|  __/
  \___|___/____/ \___/   \__,_| .__/| .__/|_|_|\__,_|_| |_|\___\___| 2.0-10
                              |_|   |_|
                                             This is CS50. In a box.
---------------------------------------------------------------------------

You can update the appliance to the latest release in either of two
ways:

* Select *Menu > Administration > Software Update*, then click *Install
Updates* if any updates are available.
* link:#__how_to_open_a_terminal[Open a terminal] and execute:
+
------------------
sudo yum -y update
------------------


How to Use Appliance
~~~~~~~~~~~~~~~~~~~~

The first thing you should see when the appliance boots up is John
Harvard's desktop. (Oh, henceforth, you are
http://en.wikipedia.org/wiki/John_Harvard_(clergyman)[John Harvard].
Your initial password is *crimson*. And here's
http://en.wikipedia.org/wiki/File:BostonTrip-91.jpg[what you look
like].) Even though you might think of Linux as having only a
http://en.wikipedia.org/wiki/Command-line_interface[command-line
interface],
http://en.wikipedia.org/wiki/Graphical_user_interface[graphical user
interfaces] do exist. We've installed
http://en.wikipedia.org/wiki/Xfce[Xfce], one of the most popular, for
you. However, we installed as few programs as possible to keep the
appliance small. You're welcome to install additional programs via *Menu
> Administration > Add/Remove Applications*.


How to Change Name
^^^^^^^^^^^^^^^^^^

As much as you might not like being called John, *do not try to change
John Harvard's name or username*. Life will be simpler as John.

With that said, if you'd _really_ like to be yourself (or someone else
altogether), you're welcome to create a new account.
link:#__how_to_open_a_terminal[Open a terminal] and execute

`sudo adduser --comment "Jane Harvard" --gid students --groups wheel --password crimson janeh`

where `Jane Harvard` is your desired name, `crimson` is your desired
password, and `janeh` is your desired username.

If you'd also like to start logging into the appliance automatically
under your new identity (instead of John Harvard's), execute

`sudo nano /etc/gdm/custom.conf`

and change `jharvard` to your own username. Then hit *ctrl-x*, then *y*,
then *Enter* to save and quit.


How to Change Password
^^^^^^^^^^^^^^^^^^^^^^

You can change your password in any of these ways:

* Select *Menu > Preferences > Password* and follow the on-screen
prompts.
* Log into Usermin at http://192.168.56.50:20000/, select *Login >
Change Password* at top-left, and follow the on-screen instructions.
* link:#__how_to_open_a_terminal[Open a terminal] and execute: +
+
------
passwd
------

With that said, allow us to suggest that you not change John Harvard's
password if your own computer is already password-protected. (Life will
be simpler with *crimson*.) The appliance has been configured in such a
way that only someone with access to your computer (e.g., you) can
access the appliance. Even though the appliance can connect to the
Internet, the Internet cannot connect to the appliance.


How to Change Language
^^^^^^^^^^^^^^^^^^^^^^

*This feature may require Internet access.*

If English is not your native language, you may want to change the
appliance's default language. Some things will remain in English, but
you might find yourself more at home nonetheless. Select *Menu >
Administration > Language*, inputting your password if prompted. Select
your preferred language from the list that appears, then click *OK*. If
prompted, click *Import key*. You may need to wait for a bit as the
language is installed. Then link:#__how_to_restart_appliance[restart the
appliance] and log back in.


How to Change Keyboard Layout
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

If you have a non-U.S. (or non-standard) keyboard, you may want (or
need!) to change your keyboard's layout. Select *Menu > Administration >
Keyboard*. (To be clear, select *Administration*, not *Preferences*.)
Select your preferred keyboard, then click *OK*.


How to Change Time Zone
^^^^^^^^^^^^^^^^^^^^^^^

If you don't live in Cambridge, Massachusetts, USA, you may want to
change the appliance's timezone. Select *Menu > Administration > Date &
Time*. Click the *Time Zone* tab, select the nearest city in your time
zone, then click *OK*, leaving *System clock uses UTC* checked.


How to Open a Terminal
^^^^^^^^^^^^^^^^^^^^^^

You can open a terminal in any of these ways:

* Select *Menu > Internet > Terminal*. You'll find yourself in your home
directory (`~`).
* Click Terminal's icon (a black square) in the appliance's bottom-left
corner. You'll find yourself in your home directory (`~`).
* Right-click anywhere on your desktop and select *Open Terminal Here*.
You'll find yourself in `~/Desktop/`.

No matter the approach you take, you should then see a command-line
interface much like the one you've probably seen in
http://cs50.tv/2010/fall/#l=lectures[lectures]! It's at this prompt that
you'll be able to type commands like *cd*, `gcc`, `ls`, and `nano`.

If you don't have an account on `nice.fas.harvard.edu` or
`cloud.cs50.net` but a problem set tells you to "SSH to
`nice.fas.harvard.edu`" or "SSH to `cloud.cs50.net`", you can simply
open a terminal instead (or you can link:#__how_to_ssh_to_appliance[SSH to
the appliance]).


How to SSH to Appliance
^^^^^^^^^^^^^^^^^^^^^^^

If you'd like to SSH to the appliance from your own computer (as with
Terminal on Mac OS or with PuTTY on Windows), you can SSH from your
computer to *192.168.56.50*, which is the appliance's static IP address.
(The appliance actually has a second IP address, obtained via DHCP, but
it uses that IP to access the Internet.)

If you'd instead like to SSH _from_ the appliance _to_ your computer
(assuming your computer is running an SSH server), you can SSH from the
appliance to *192.168.56.1*, which is the static IP address that
VirtualBox has secretly assigned to your computer.


How to Release Keyboard and Mouse
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Once you click inside of the appliance, it "captures" your keyboard's
keystrokes and your mouse's movements. To release your keyboard and
mouse from the appliance's clutches, hit VirtualBox's "host key": on a
Mac, VirtualBox's host key is your keyboard's left-Command key; on any
other OS, VirtualBox's host key is your keyboard's right-Control key.
Once you hit that key, should be able to move your mouse anywhere on
your screen.


How to Change Host Key
^^^^^^^^^^^^^^^^^^^^^^

VirtualBox's "host key" allows you to release your keyboard and mouse
from the appliance if they've been "captured," which happens when you
click somewhere inside of the appliance's window (unless you have
link:#__how_to_install_guest_additions[guest additions] installed).

On a Mac, VirtualBox's host key is your keyboard's left-Command key; to
change it, select *VirtualBox > Preferences... > Input*. On any other
OS, VirtualBox's host key is your keyboard's right-Control key; to
change it, select *File > Preferences > Input*. In either case, be sure
that VirtualBox's main window (where you can select the CS50 Appliance
from a list) is in the foreground, not the appliance's own window, else
the *Preferences...* and/or *File* menu might not appear.


How to Install Guest Additions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

"Guest Additions" are device drivers and system applications that come
with VirtualBox that can improve the performance and usability of the
CS50 Appliance. Those additions allow you to
link:#__how_to_change_resolution[change the appliance's resolution],
link:#__how_to_enter.2fexit_fullscreen_mode[enter/exit fullscreen mode],
link:#__how_to_enter/exit_seamless_mode[enter/exit seamless mode], and
link:#__how_to_transfer_files_between_appliance_and_your_computer[share
folders] between the appliance and your own computer. They may also
eliminate the need to "release" your keyboard and mouse via VirtualBox's
"host key."

To install them, select *Install Guest Additions...* from VirtualBox's
*Devices* menu while the appliance is running. (This menu is outside of
the appliance, not inside of it. You may need to
link:#__how_to_release_keyboard_and_mouse[release your keyboard and mouse]
first.) An icon of a CD may then appear on your desktop, but no need to
double-click it. Instead, link:#__how_to_open_a_terminal[open a terminal]
and execute the commands below. Input your password if prompted. (For
security, you will not see your password as you type it.)

`sudo mount /dev/sr0 /media/` +
`sudo /media/VBoxLinuxAdditions.run`

Once the software has been installed, execute the command below:

`sudo umount /media/`

Then select *CD/DVD Devices > Remove disk from virtual drive* from
VirtualBox's *Devices* menu. (This menu is outside of the appliance, not
inside of it. You may need to
link:#__how_to_release_keyboard_and_mouse[release your keyboard and mouse]
first.) Then link:#__how_to_restart_appliance[restart the appliance] and
log back in.


How to Change Resolution
^^^^^^^^^^^^^^^^^^^^^^^^

By default, the appliance's resolution is 1024 x 768, but, odds are,
your own screen's resolution is higher. But if you try to make
VirtualBox's window bigger, the appliance itself won't grow. At least
not yet! You'll first need to
link:#__how_to_install_guest_additions[install guest additions] if you
haven't already. Then you'll be able to click and drag the appliance's
bottom-right corner to resize it.


How to Enter/Exit Fullscreen Mode
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

For fullscreen mode to work, you'll first need to
link:#__how_to_install_guest_additions[install guest additions] if you
haven't already.

Thereafter, you can enter fullscreen mode in either of these ways:

* Select *Switch to Fullscreen* from VirtualBox's *Machine* menu while
the appliance is running. (This menu is outside of the appliance, not
inside of it.)
* Hit VirtualBox's "host key" and F together. (On a Mac, VirtualBox's
host key is your keyboard's left-Command key; on any other OS,
VirtualBox's host key is your keyboard's right-Control key.)

You can exit fullscreen mode in either of these ways:

* Move your cursor to the middle of the bottom of your screen, at which
point a menu should appear. Click the second icon from the right (which
resembles two squares).
* Hit VirtualBox's "host key" and F together. (On a Mac, VirtualBox's
host key is your keyboard's left-Command key; on any other OS,
VirtualBox's host key is your keyboard's right-Control key.)


How to Enter/Exit Seamless Mode
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Seamless mode lets you "extract" windows (e.g., a Terminal window) from
the CS50 Appliance and position them right alongside your computer's own
windows; in seamless mode, the appliance's windows are no longer
confined to the appliance's own rectangular window.

For seamless mode to work, you'll first need to
link:#__how_to_install_guest_additions[install guest additions] if you
haven't already.

Thereafter, you can enter seamless mode in either of these ways:

* Select *Switch to Seamless Mode* from VirtualBox's *Machine* menu
while the appliance is running. (This menu is outside of the appliance,
not inside of it.)
* Hit VirtualBox's "host key" and L together. (On a Mac, VirtualBox's
host key is your keyboard's left-Command key; on any other OS,
VirtualBox's host key is your keyboard's right-Control key.)

You can exit seamless mode by hitting VirtualBox's "host key" and L
together. (On a Mac, VirtualBox's host key is your keyboard's
left-Command key; on any other OS, VirtualBox's host key is your
keyboard's right-Control key.)


How to Use phpMyAdmin
^^^^^^^^^^^^^^^^^^^^^

Visit http://192.168.56.50/phpMyAdmin/ within the appliance or using
your own computer's browser. Log in as prompted.


How to Transfer Files between Appliance and Your Computer
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

If you'd like to
http://en.wikipedia.org/wiki/SSH_file_transfer_protocol[SFTP] to the
appliance from your own computer (as with
http://cyberduck.ch/[Cyberduck] on Mac OS or with
http://winscp.net/eng/download.php[WinSCP] on Windows), you can SFTP
from your computer to *192.168.56.50*, which is the appliance's static
IP address. (The appliance actually has a second IP address, obtained
via DHCP, but it uses that IP to access the Internet.)

Alternatively, you can create a "shared folder" on your own computer's
hard drive that the CS50 Appliance can access directly, thereby allowing
you to share files between your computer and the appliance without
having to use SFTP:

1.  Install VirtualBox's link:#__how_to_install_guest_additions[guest
additions] if you haven't already.
2.  Select *Shared Folders...* from VirtualBox's *Devices* menu while
the appliance is running. (This menu is outside of the appliance, not
inside of it. You may need to
link:#__how_to_release_keyboard_and_mouse[release your keyboard and mouse]
first.)
3.  In the window that appears, click the little folder icon with a plus
(+) sign.
4.  In the *Add Share* window that appears, click the downward-pointing
arrow next to *Folder Path* and select *Other...*. Navigate your way to
a folder on your own hard drive that you'd like to share with the
appliance, creating a new folder if desired; once you've selected that
folder, click *Choose*. (*For simplicity, select a folder whose name is
entirely alphanumeric; don't select a folder with spaces or punctuation
in its name.*) In the *Add Share* window, be sure that the folder you
selected now appears next to *Folder Path*. Next to *Folder Name*,
confirm that the name does not have any spaces or punctuation; remember
this name. Do not check *Read-only*, but do check *Auto-mount* and *Make
Permanent*. Then click *OK*. You should now see your choice of shared
folders under *Machine Folders* in the *Shared Folders* window.
5.  Click *OK*.
6.  link:#__how_to_open_a_terminal[Open a terminal] and execute the below,
inputting your password if prompted. (For security, you will not see
your password as you type it.)
+
----------------------------------
sudo usermod -a -G vboxsf jharvard
----------------------------------
7.  link:#__how_to_restart_appliance[Restart the appliance] and log back
in.
8.  Double-click *File System* on your desktop, then double-click the
*media* folder within. You should then see a folder called
*sf_sharename*, where *sharename* is the name of your shared folder.
9.  Click the folder once to highlight it, then select *File > Send To >
Desktop (Create link)* in order to create a "symbolic link" (i.e., alias
or shortcut) to that folder on your desktop. *Do not drag the actual
folder to your desktop.*

Your shared folder should now be accessible within the appliance via
that folder on your desktop.

To confirm as much, create a file inside of that shared folder on your
own computer (e.g., drag some file from your own computer's desktop into
that folder). Then double-click the folder on the appliance's desktop.
You should see that same file.

Next create a file inside of that shared from within the appliance by
link:#__how_to_open_a_terminal[openining a terminal] executing a command
like:

`touch ~/Desktop/sf_sharename/foo`

Then open the shared folder on your own computer. You should see both
`foo` and whatever other file you put there.

At this point, you can transfer files between the appliance and your own
computer by way of that folder.

If you decide to delete the shared folder from your own computer, be
sure to undo (most of) the changes you made to the appliance as follows:

1.  Select *Shared Folders...* from VirtualBox's *Devices* menu while
the appliance is running.
2.  Highlight the shared folder in the window that appears.
3.  Click the little folder icon with a minus (-) sign.
4.  Click *OK*.


How to Access Appliance from Another Computer
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

By default, you can access the appliance from your own computer via the
appliance's static IP address, which is *192.168.56.50*, because
VirtualBox assigns your own computer a static IP address of
*192.168.56.1*, which is on the same "subnet." Those IP addresses only
exist within VirtualBox, though, so, by default, it's _not_ possible to
access the appliance from other computers on your LAN (i.e., home
network).

However, the appliance also comes with a "bridged" network interface
(`eth2`) that you can activate manually. So long as your LAN supports
http://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol[DHCP]
(which most home networks do), that interface will acquire an IP address
on your LAN, at which point you can access the appliance via HTTP or SSH
via _that_ IP from any computer on your LAN. For security's sake, only
TCP ports 22 and 80 will be accessible. The appliance's firewall will
block traffic to all other ports, including TCP port 1000 (used by
Webmin) and TCP port 2000 (used by Usermin).

*Odds are `eth2` will not work on Harvard's campus because of Harvard's
firewall.*

To enable `eth2` temporarily, link:#__how_to_open_a_terminal[open a
terminal] and execute:

`sudo ifup eth2`

If your LAN indeed supports DHCP, you should see:

`Determining IP information for eth2... done.`

To find out which IP address was assigned by your LAN to the appliance,
execute

`ifconfig eth2`

and look to the right of *inet addr* (not *inet6 addr*). That's the
address via which you can accessible the appliance from another computer
on your LAN. Odds are it will start with *192.168.0* or *192.168.1* or
*10.0.1*, though other prefixes are possible.

If you would like to enable `eth2` permanently:

1.  Select *Menu > Administration > Network*.
2.  Highlight *eth2* in the window that appears, then click *Edit*.
3.  Check *Activate device when computer starts*, then click *OK*.
4.  Select *File > Save*, then click *OK*.
5.  Select *File > Quit*.
6.  link:#__how_to_restart_appliance[Restart the appliance].

Just realize that each time the appliance starts, it may be assigned a
different IP address on your LAN via DCHP, so you might need to re-run

`ifconfig eth2`

each time to find out the current address. If your home router supports
"DHCP reservations," know that you can find out the MAC (i.e., Ethernet)
address of `eth2` by running

`ifconfig eth2`

as well. Look to the right of *HWaddr* for the address. Alternatively,
if you think it's safe to assign the appliance a static IP address on
your LAN without your home router even knowing, select *Menu >
Administration > Network*, highlight *eth2* in the window that appears,
click *Edit*, select *Statically set IP addresses*, and configure the
interface as you see fit.


How to Share Your Screen with Someone
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

*This feature requires Internet access.*

So that you can help (and be helped by!) fellow learners on the
Internet, the appliance comes with
http://www.teamviewer.com/[TeamViewer], which lets you share (control
of) your screen with someone else (a "partner") on the Internet (and
vice versa). *If officially enrolled in a course at Harvard, take care
to respect the course's policies on academic honesty.*

To share your screen with some else:

1.  Select *Menu > Team Viewer*. A window should appear.
2.  Tell your partner the *ID* and *Password* that you see. Once your
partner inputs those values, your screen should be shared.

To see someone else's screen:

1.  Ask your partner for an *ID* and *Password*.
2.  Select *Menu > Team Viewer*. A window should appear.
3.  Input the *ID* into that window, then click *Connect to partner*.
4.  When prompted, input the *Password*, at which point you should see
your partner's screen.

If you would like to connect to someone else's appliance from your own
computer (rather than from your own appliance) or from a mobile device,
you can download TeamViewer for free for Android, iOS, Linux, Mac OS, or
Windows from http://www.teamviewer.com/en/download.aspx.


How to Disable Automatic Login
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

By default, the appliance logs you in as John Harvard. To disable
automatic login, link:#__how_to_open_a_terminal[open a terminal] and
execute:

`sudo rm -f /etc/gdm/custom.conf`

Then link:#__how_to_restart_appliance[restart the appliance]. You should
now see a login prompt instead of John Harvard's desktop.


How to Log Out of Appliance
^^^^^^^^^^^^^^^^^^^^^^^^^^^

To log out of the appliance, click
image:Exit.png[Exit.png,title="image"] in the appliance's bottom-right
corner, then click *Log Out*.


How to Restart Appliance
^^^^^^^^^^^^^^^^^^^^^^^^

You can restart the appliance in either of these ways:

* Click image:Exit.png[Exit.png,title="image"] in the appliance's
bottom-right corner, then click *Restart*.
* link:#__how_to_open_a_terminal[Open a terminal] and execute the below,
inputting your password if prompted:
+
------------
sudo restart
------------


How to Shut Down Appliance
^^^^^^^^^^^^^^^^^^^^^^^^^^

You can shut down the appliance in either of these ways:

* Click image:Exit.png[Exit.png,title="image"] in the appliance's
bottom-right corner, then click *Shut Down*.
* link:#__how_to_open_a_terminal[Open a terminal] and execute the below,
inputting your password if prompted:
+
-------------
sudo shutdown
-------------


How to Compile Source Code from Lectures
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To compile some lecture's source code, figure out the URL of the file
you'd like to download, as by browsing the "index" for some lecture's
source code (e.g., http://cdn.cs50.net/2010/fall/lectures/1/src/). Then
download that URL (e.g.,
http://cdn.cs50.net/2010/fall/lectures/1/src/hai1.c) with this command:

`wget `http://cdn.cs50.net/2010/fall/lectures/1/src/hai1.c[`http://cdn.cs50.net/2010/fall/lectures/1/src/hai1.c`]

Odds are you can then compile the file with:

`gcc hai1.c`

And you can then run the program with this command:

`./a.out`


Caveats
^^^^^^^

* Some source code might require tweaks to get it to compile inside of
the appliance. If you run into a compilation error, simply turn to the
course's http://cs50.net/2010/fall/#r=group[Google Group] for
assistance!


How to Do Problem Sets
~~~~~~~~~~~~~~~~~~~~~~

You'll first want to link:#__how_to_install_appliance[install the CS50
Appliance]. Then you'll want to download and read the problem set's PDF,
which is available at http://cs50.tv/2009/fall/#l=psets[cs50.tv].
Perhaps needless to say, ignore any sentences that appear to be intended
only for CS50's own students. You'll notice that most problem sets
instruct you to "SSH to `nice.fas.harvard.edu`" or "SSH to
`cloud.cs50.net`". If you're not a CS50 student, you won't have an
account on either server, but that's what the CS50 Appliance is for!
Anytime you're told to SSH to `nice.fas.harvard.edu` or
`cloud.cs50.net`, instead just link:#__how_to_open_a_terminal[open a
terminal] or link:#__how_to_ssh_to_appliance[SSH to your appliance].

Anyhow, for problem sets that come with distros (i.e., source code),
figure out the URL of the source code's ZIP (e.g.,
http://cdn.cs50.net/2010/fall/psets/3/pset3.zip), as by right-clicking
or Ctrl-clicking the link at http://cs50.tv/2010/fall/#l=psets[cs50.tv]
and selecting *Copy Link* or the like. Then launch the appliance,
link:#__how_to_open_a_terminal[open a terminal], and execute a command
like the below:

`wget `http://cdn.cs50.net/2010/fall/psets/3/pset3.zip[`http://cdn.cs50.net/2010/fall/psets/3/pset3.zip`]

Unzip that ZIP with this command:

`unzip pset3.zip`

And then "cd into" the unzipped directory with this command:

`cd pset3/`

Then proceed to follow the PDF's directions!


Caveats
^^^^^^^

* For problem sets that involve phpMyAdmin, you should
link:#__how_to_use_phpmyadmin[use your appliance's own installation].
* For problem sets that involve web programming, your home will be
http://192.168.56.50/~jharvard/, once you've created a *~/public_html/*
directory.
* Some commands mentioned in PDFs may not work inside of the appliance
(e.g., *challenge*). We've made sure that the pedagogically important
ones do, though.
* Some source code might require tweaks to get it to compile inside of
the appliance. If you run into a compilation error that's not discussed
in the PDF, simply turn to the course's
http://cs50.net/2010/fall/#r=group[Google Group] for assistance!


Commercial Hypervisors
----------------------

Although we recommend VirtualBox (because it's free and cross-platform),
it's possible to use the CS50 Appliance with other hypervisors as well.


How to Install Appliance
~~~~~~~~~~~~~~~~~~~~~~~~


Parallels
^^^^^^^^^

_Coming Soon_


VMware Fusion
^^^^^^^^^^^^^

These instructions assume that you already have VMware Fusion installed.

1.  Download the latest CS50 Appliance at
http://mirror.cs50.net/appliance/2.0/cs50-appliance-2.0-10.zip. Then
unzip it. Move the unzipped folder (`cs50-appliance-2.0`) to wherever
you keep your VMs (e.g., `/Users/username/Documents/Virtual Machines/`,
where `username` is your username on your Mac).
2.  Launch Terminal on your Mac, which can usually be found in
*Macintosh HD > Applications > Utilities*.
3.  Execute the following commands (assuming you indeed moved
`cs50-appliance-2.0` to `/Users/username/Documents/Virtual Machines/`,
where `username` is your username on your Mac):

---------------------------------------------------------------------------------------------------------------
cd /Users/username/Documents/Virtual\ Machines/cs50-appliance-2.0/
/Library/Application\ Support/VMware\ Fusion/vmware-vdiskmanager -r cs50-appliance-2.0-disk1.vmdk -t 0 new.vmdk
mv -f new.vmdk cs50-appliance-2.0-disk1.vmdk
---------------------------------------------------------------------------------------------------------------

1.  Launch VMware Fusion (as by double-clicking its icon, which is
likely in *Macintosh HD > Applications*). Select *Open...* from VMware
Fusion's *File* menu. Navigate your way to that unzipped
*cs50-appliance-2.0* folder, highlight the *cs50-appliance-2.0.vmx* file
within, and click *Open*. Within a few seconds or minutes, you should
see *CS50 Appliance* in VMware Fusion's left-hand menu; it should start
automatically.


VMware Server
^^^^^^^^^^^^^

_Coming Soon_


VMware Workstation
^^^^^^^^^^^^^^^^^^

_Coming Soon_


Implementation Details
----------------------

Below are details on how we implemented the CS50 Appliance in case
you're curious or would like to reproduce these steps yourself. *You do
NOT need to follow these directions to if you simply want to use the
CS50 Appliance:* you only need to follow link:#__instructions[the
instructions above].

We built the appliance using a combination of
http://fedoraproject.org/wiki/Anaconda/Kickstart[Kickstart] and
http://fedoraproject.org/wiki/How_to_create_an_RPM_package[rpmbuild]. It
took us a while to figure everything out, but now that we (and you) know
what we're doing, it only takes about 20 minutes to build the appliance
(and most of that time is spent waiting for Kickstart to run).

The CS50 Appliance's kickstart file can be found at
http://mirror.cs50.net/appliance/2.0/cs50-appliance-2.0-10.ks. And the
CS50 Appliance's spec file can be found at
http://mirror.cs50.net/appliance/2.0/cs50-appliance-2.0-10.spec.

The directions below assume familiarity with
http://en.wikipedia.org/wiki/Fedora_(operating_system)[Fedora] and
installation thereof as well as with
http://en.wikipedia.org/wiki/VirtualBox[VirtualBox]. If you have
questions, you may want to join CS50's Google Group at
http://cs50.tv/2010/fall/#l=psets&r=group[cs50.tv].

1.  Download and install (on any OS) the latest version of VirtualBox
from http://www.virtualbox.org/wiki/Downloads.
2.  Download an ISO of the 32-bit Fedora 15 DVD from
http://download.fedoraproject.org/pub/fedora/linux/releases/15/Fedora/i386/iso/Fedora-15-i386-DVD.iso
(which is linked at
http://fedoraproject.org/en/get-fedora-options#formats).
3.  Launch VirtualBox and click *New*.
4.  On the screen entitled *Welcome to the New Virtual Machine Wizard!*,
click *Continue*.
5.  On the screen entitled *VM Name and OS Type*, input a value below
*Name* (e.g., *CS50 Appliance*), select *Linux* next to *Operating
System*, select *Fedora* (not *Fedora (64 bit)*) next to *Version*, then
click *Continue*.
6.  On the screen entitled *Memory*, input *768* MB, if not already
present, then click *Continue*.
7.  On the screen entitled *Virtual Hard Disk*, check *Boot Hard Disk*
(if not checked already), select *Create new hard disk* (if not selected
already), then click *Continue*.
8.  On the screen entitled *Welcome to the Create New Virtual Disk
Wizard!*, click *Continue*.
9.  On the screen entitled *Hard Disk Storage Type*, select *Dynamically
expanding storage* (if not selected already), then click *Continue*.
10. On the screen entitled *Virtual Disk Location and Size*, leave the
value under *Location* unchanged (assuming it's identical to the name
you inputted earlier), input *16.0 GB* under *Size*, then click
*Continue*.
11. On the screen entitled *Summary*, click *Done*.
12. On the screen also entitled *Summary*, click *Done*.
13. In VirtualBox's lefthand list of VMs, single-click the VM you just
created to highlight it, then click *Settings*.
14. Click *Network*.
15. Under *Adapter 1*, ensure that *Enable Network Adapter* is checked
and that *NAT* is selected next to *Attached to*.
16. Click *Adapter 2*. Check *Enable Network Adapter* and select
*Host-only Adapter* next to *Attached to*.
17. Click *Adapter 3*. Check *Enable Network Adapter* and select
*Bridged Adapter* next to *Attached to*.
18. Click *OK*.
19. In VirtualBox's lefthand list of VMs, single-click the VM to
highlight it, if not highlighted already, then click *Start*.
20. On the screen entitled *Welcome to the First Run Wizard!*, click
*Continue*.
21. On the screen entitled *Select Installation Media*, click the folder
icon under *Media Source*, navigate your way to the ISO you downloaded
earlier (i.e., *Fedora-15-i386-DVD.iso*), click it once to highlight it,
then click *OK*. You should then see *Fedora-15-i386-DVD.iso* under
*Media Source*. Click *Continue*.
22. On the screen entitled *Summary*, click *Done*.
23. Immediately click inside of the VM's window (so that your cursor
disappears). As soon as you see the screen entitled *Welcome to Fedora
15!*, hit *Esc*. You should then see a *boot:* prompt.
24. At the *boot:* prompt, type
+
-------------------------------------------------------------------------------------------------------------------
linux biosdevname=0 ks=http://mirror.cs50.net/appliance/2.0/cs50-appliance-2.0-10.ks ksdevice=eth0
-------------------------------------------------------------------------------------------------------------------
+
then hit *Enter*. Kickstart will proceed to install Fedora 15 and CS50's
own RPMs. Some number of minutes later (depending on the speed of your
computer and Internet connection), the VM will power itself off.
25. In VirtualBox's lefthand list of VMs, click the VM to highlight it,
if not highlighted already, then click *Settings*.
26. Click *Storage*.
27. Under *IDE Controller*, single-click *Fedora-15-i386-DVD.iso* to
highlight it. Then click the CD icon to the right of *CD/DVD Drive* and
select *Remove disk from virtual drive*. Then click *OK*.
28. In VirtualBox's lefthand list of VMs, single-click the VM to
highlight it, if not highlighted already, then select *Export
Appliance...* from VirtualBox's *Devices* menu.
29. On the screen entitled *Welcome to the Appliance Export Wizard!*,
single-click the VM once to highlight it, if not highlighted already,
then click *Continue*.
30. On the screen entitled *Appliance Export Settings*, click
*Choose...* and navigate your way to a folder in which you'd like to
save the exported appliance. Select *Open Virtualization Format (*.ovf)*
next to *Files of type*, then input a filename (that ends in *.ovf*) for
the appliance next to *Save As* (e.g., *cs50-appliance-2.0.ovf*). Then
click *Save*.
31. Back on the screen entitled *Appliance Export Settings*, leave
*Write legacy OVF 0.9* and *Write Manifest file* unchecked, then click
*Continue*.
32. On the next screen also entitled *Appliance Export Settings*, input
values for *Name*, *Product*, *Product-URL*, *Vendor*, *Vendor-URL*,
*Version*, *Description*, and *License*. Then click *Done*. An
inaccurate number of seconds later, you should find two files in the
folder you created: *cs50-appliance-2.0.ovf* (which contain's the VM's
configuration) and *cs50-appliance-2.0.disk1.vmdk* (which is the VM's
hard disk).
33. Open *cs50-appliance-2.0.ovf* with a text editor and delete:
* the *vbox:uuid* attribute in the *Disk* element's tag;
* the entire *Item* element for *ideController1* (i.e., everything
between that IDE Controller's ** and ** tags);
* the entire *vbox:Machine* element (i.e., everything between ** and
**).
34. Add elements like the below as children of (i.e., inside)
*VirtualSystem*:

----------------------------------------------------------------------
<ProductSection>
  <Info>Meta-information about the installed software</Info>
  <Product>CS50 Appliance 2.0</Product>
  <Vendor>CS50</Vendor>
  <Version>2.0</Version>
  <ProductUrl>https://manual.cs50.net/Appliance</ProductUrl>
  <VendorUrl>http://cs50.tv/</VendorUrl>
</ProductSection>
<EulaSection>
  <Info>License agreement for the virtual system</Info>
  <License>http://creativecommons.org/licenses/by-nc-sa/3.0/</License>
</EulaSection>
----------------------------------------------------------------------

1.  Create a ZIP file containing, at least, *cs50-appliance-2.0.ovf* and
*cs50-appliance-2.0.disk1.vmdk*, and the appliance is ready for
distribution!


Troubleshooting
---------------

If you are having problems that aren't addressed here or under
link:#__known_issues[Known Issues], turn to the course's
http://cs50.tv/2010/fall/#r=group[Google Group] for help.


Forgotten Login Password
~~~~~~~~~~~~~~~~~~~~~~~~


jharvard
^^^^^^^^

John Harvard's password is *crimson* by default. But if you changed it
to something you do not remember, you can change it to something you
know as follows:

1.  link:#__how_to_log_out_of_appliance[Log out] of the appliance if
already logged in.
2.  Log in as *root* with password *crimson* (unless you changed the
superuser's password too).
3.  link:#__how_to_open_a_terminal[Open a terminal], execute
+
---------------
passwd jharvard
---------------
+
and input a new password for John Harvard (e.g., *crimson*) twice as
prompted.
4.  link:#__how_to_log_out_of_appliance[Log out] of the appliance.

You should then be able to log in as John Harvard again.


root
^^^^

The superuser's password is *crimson* by default. But if you changed it
to something you do not remember, you can change it to something you
know as follows:

1.  link:#__how_to_shut_down_appliance[Shut down the appliance] if it's
already running.
2.  link:#__how_to_start_appliance[Start the appliance], immediately click
once inside of its window (so that your cursor disappears), and
immediately hold *Shift*. Within a few seconds, you should see a *GNU
GRUB* screen with *Fedora* highlighted in white. If not, start over and
try again.
3.  Hit *e*, and you should see a screen with at least three options:
*root*, *kernel*, and *initrd*. Highlight *kernel* and hit *e* again.
You should then see a line of text that ends with `quiet`. Hit the space
bar and add the word `single` to the end of that line. Then hit *Enter*.
You should find yourself back at the previous screen, with *kernel*
highlighted in white.
4.  Hit *b* to boot into the appliance in "single-user mode.''' You
should soon see a terminal prompt.
5.  Execute
+
------
passwd
------
+
and input a new password twice (e.g., *crimson*) as prompted.
6.  Execute
+
------
reboot
------
+
to restart the appliance.


Forgotten MySQL Password
~~~~~~~~~~~~~~~~~~~~~~~~

John Harvard's password for MySQL is *crimson* by default, as is the
superuser's. But if you changed either to something you do not remember,
you can change both back to *crimson* by
link:#__how_to_open_a_terminal[opening a terminal] and executing the
below:

`sudo yum -y reinstall cs50-appliance`

That command will restore the appliance to "factory defaults." It will
not delete any code that you've written.


Known Issues
------------

* http://wiki.cs50.net.php?title=Appliance&oldid=1273[1.0.0]
** *alias gcc gcc* in /etc/csh.cshrc should be *alias gcc gcc -ggdb
-std=c99 -Wall -Werror -Wformat=0*.
** *$PATH* was incorrectly defined in /etc/csh.cshrc.
* http://wiki.cs50.net.php?title=Appliance&oldid=1770[1.0.1]
** /etc/csh.cshrc invokes `/bin/cat /etc/banner` for non-interactive
shells, which breaks SFTP (which errs with, e.g., "Received message too
long 169877536").
** In /etc/network/interfaces, "broadcast" is misspelled.
** On first boot, eth0 obtains DNS server(s) via DHCP, which then get
saved permanently in /etc/resolv.conf, even if user moves to different
network.
** jharvard_pset7 database lacks users table.
* http://wiki.cs50.net.php?title=Appliance&oldid=1806[1.1]
** On (some) Windows hosts, when the appliance is first booted,
VirtualBox displays a VERR_INTERNAL_ERROR, describing it as "Inexistent
host networking interface, name 'vboxnet0'". This appears to be a bug in
VirtualBox 3.2.x, but a
http://wiki.cs50.net.php?title=Appliance&oldid=1824#Inexistent_host_networking_interface.2C_name_.27vboxnet0.27[workaround]
exists.
* http://wiki.cs50.net.php?title=Appliance&oldid=1824[1.2]
** Appliance continues not to import properly on (at least) Windows.
Upon starting appliance (after import), VirtualBox reports
"VERR_INTERNAL_ERROR: Inexistent host networking interface, named
'vboxnet0'" as well as, on occasion, errors pertaining to audio.
* http://wiki.cs50.net.php?title=Appliance&oldid=1874[1.3]
** PHPs do not work within John Harvard's account.
** /usr/share/dict/words is missing.
* 1.4
** We've received reports that the appliance doesn't work always work
with VirtualBox 4.x. For now, using
http://www.virtualbox.org/wiki/Download_Old_Builds_3_2[VirtualBox 3.2.x]
is a workaround if you encounter any trouble; a new version of the
Appliance will soon be released.
* 2.0
** Appliance intentionally lacks `/home/cs50/`. To be added back in 2.1.


Changelog
---------

* http://wiki.cs50.net.php?title=Appliance&oldid=1273[1.0.0]
* http://wiki.cs50.net.php?title=Appliance&oldid=1770[1.01]
** Fixed bug in /etc/csh.cshrc whereby $variables in boot.sh were
prematurely interpolated by changing *EOT* to *"EOF"* (because bash
disables interpolation of $variables when heredocs' delimeters are
quoted).
** Changed all instances of *EOT* in boot.sh to *"EOF"* (for
consistency's sake).
** Upped appliance's video memory from 12MB to 17MB so that seamless
mode would work.
* http://wiki.cs50.net.php?title=Appliance&oldid=1806[1.1]
** Upgraded OS from Ubuntu 9.04 (Karmic) to 10.04 LTS (Lucid).
** Appliance no longer requires Internet access on first boot.
** Changed eth0 to use DHCP (and thus obtain DNS server(s) dynamically).
** Changed jharvard's shell from tcsh to bash.
** phpMyAdmin is now pre-installed.
** phpMyAdmin now requires authentication.
** Changed hostname to "appliance".
** Increased virtual disk size to 16 GB.
** Appliance now includes jharvard_pset7.users table.
** Appliance no longer requires PAE/NX support.
** Fixed "Received message too long" SFTP problem.
** Fixed misspelling of "broadcast" in /etc/network/interfaces.
* http://wiki.cs50.net.php?title=Appliance&oldid=1824[1.2]
** Added support for (CS50's version of) ci and co
** Changed appliance to use PCnet FAST III virtual NICs instead of Intel
PRO/1000 MT Desktop virtual NICs.
* http://wiki.cs50.net.php?title=Appliance&oldid=1874[1.3]
** Eliminated "VERR_INTERNAL_ERROR: Inexistent host networking
interface, named 'vboxnet0'" problem, which appears to be a
http://www.virtualbox.org/ticket/7067[bug] in VirtualBox 3.2.x.
* https://manual.cs50.net.php?title=CS50_Appliance&oldid=4602[1.4]
** John Harvard's PHPs now work and execute as jharvard, while
phpMyAdmin executes as www-data.
** Appliance is now pre-configured with CS50 Library.
** Installed /usr/share/dict/words.
* 2.0
** Switched from Ubuntu 10.04 to Fedora 15.
** Switched from GNOME to Xfce.
** Added:
*** git
*** render50
*** http://www.teamviewer.com/en/products/benefits.aspx[TeamViewer]
** Enabled automatic login for John Harvard.
** Added support for automatic updates via `yum`.
** Added support for bridged networking via `eth2`.
** Added custom menu and launcher.
** Customized phpMyAdmin.
** Restricted mod_suphp to `/home/*/public_html/`.


Resources
---------

* http://www.virtualbox.org/manual/UserManual.html[User Manual] for
VirtualBox


Acknowledgements
----------------

Many thanks to everyone who's helped us improve the CS50 Appliance,
including, but not limited to:

* Darrin Ragsdale
* Dotty
* Federico Lerner
* Kartikeya Srivastava
* Matthew Polega
* Matthew Roknich
* Rolando Cruz
* Sergio Prado

Category:HOWTO
