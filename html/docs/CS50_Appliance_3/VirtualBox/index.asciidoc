Here's how to install the [[CS50_Appliance_3|CS50 Appliance]] using VirtualBox for [[#Mac_OS|Mac OS]], [[#Windows|Windows]], and [[#Linux|Linux]].

= Mac OS =

== Installation ==

In the instructions below, '''4.x.y''' represents whatever version of VirtualBox is available on the day that you download it.

# Download the latest version of VirtualBox from http://www.virtualbox.org/wiki/Downloads by clicking '''x86/amd64''' to the right of '''VirtualBox 4.x.y for OS X Hosts'''.
# Double-click the file you just downloaded.  You may see a window that says '''Verifying...''' after which a '''VirtualBox''' icon should appear on your desktop (or on the lefthand side of a Finder window).
# Double-click the '''VirtualBox''' icon on your desktop (or single-click the icon on the lefthand side of a Finder window).  A window containing '''VirtualBox.mpkg''' should then appear.
# Double-click '''VirtualBox.mpkg'''.
# A window entitled '''Oracle VM VirtualBox for Mac OS X''' should then appear, in front of which should appear a smaller window that prompts you to '''determine if the software can be installed'''.  Click '''Continue''' on both.
# A window entitled '''Standard Install...''' should then appear.  Click '''Install'''.
# If prompted for your username and password, provide both, then click '''Install Software'''.
# A few seconds or minutes later, a window entitled '''The installation was completed successfully''' should appear.  Click '''Close'''.
# Launch VirtualBox, as by single- or double-clicking its icon, wherever you installed it.  (Odds are it's in '''Applications'''.)
# Select '''Preferences...''' under VirtualBox's '''VirtualBox''' menu in your display's top-left corner.
# Click '''Network'''.
# If '''vboxnet0''' does not already appear in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''vboxnet0''' should then appear in the box.
# With '''vboxnet0''' highlighted in the white box under '''Host-only Networks''', click the [[File:Virtualbox-screwdriver.png]] icon to the right of that box.  
# A window with two tabs should then appear.  Click '''Adapter''', if not selected already.  Ensure that the window contains precisely these values:
#* '''IPv4 Address:''' 192.168.56.1 
#* '''IPv4 Network Mask:''' 255.255.255.0
#* '''IPv6 Address:'''
#* '''IPv6 Network Mask Length:''' 0
# Click '''OK'''.
# Click '''DHCP Server'''.  Ensure that '''Enable Server''' is checked and that the window contains precisely these values:
#* '''Server Address:''' 192.168.56.100
#* '''Server Mask:''' 255.255.255.0
#* '''Lower Address Bound:''' 192.168.56.101
#* '''Upper Address Bound:''' 192.168.56.254
# Click '''OK'''.
# Click '''OK'''.
# Download a ZIP file of the [[CS50_Appliance_3|CS50 Appliance]] at http://mirror.cs50.net/appliance/3/cs50-appliance-3-15-ovf.zip.  That ZIP file is over 1GB in size, so it might take a while to download.
# Once downloaded, unzip the ZIP file, and you should have a folder named '''cs50-appliance-3''' with two files within ('''cs50-appliance-3.ovf''' and '''cs50-appliance-3-disk1.vmdk''').  Odds are that folder's in your '''Downloads''' folder, unless you saved it elsewhere. Do <u>not</u> double-click '''cs50-appliance-3.ovf''' or '''cs50-appliance-3-disk1.vmdk'''.
# Launch VirtualBox, if not running already, as by single- or double-clicking its icon, wherever you installed it.  (Odds are it's in '''Applications'''.)
# Select '''Import Appliance...''' from VirtualBox's '''File''' menu.  
# Click '''Choose'''.
# Navigate your way to the '''cs50-appliance-3''' folder that you unzipped, highlight the '''cs50-appliance-3.ovf''' file within, and click '''Open'''.  Then click '''Next'''.
# You should see a summary of the appliance's settings.  Click '''Import'''.  
# You'll then be prompted to agree to the appliance's [http://creativecommons.org/licenses/by-nc-sa/3.0/ license].  If you click '''Agree''', you'll see '''CS50 Appliance 3''' in VirtualBox's left-hand menu after a few seconds or minutes.
# Click '''CS50 Appliance 3''' to highlight it, then click '''Start''' to start the appliance.

== Troubleshooting ==

=== Nonexistent host networking interface, name &#39;&#39; (VERR_INTERNAL_ERROR) ===

For some reason, VirtualBox doesn't always come with a "host-only adapter" configured.  (A "host-only adapter" lets you connect to the [[CS50_Appliance_3|CS50 Appliance]] via HTTP, SSH, and the like.)  To resolve this problem:

# Launch VirtualBox.  (If VirtualBox is already running, shut down any virtual machines that are running, as by clicking the red circle in the top-left corner of each's window.)
# Select '''Preferences...''' under VirtualBox's '''VirtualBox''' menu in your display's top-left corner.
# Click '''Network'''.
# If '''vboxnet0''' does not already appear in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''vboxnet0''' should then appear in the box.
# Click '''OK'''.
# Single-click whichever virtual machine originally triggered the error (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]), then click '''Settings'''.
# Click '''Network'''.
# Click each of '''Adapter 1''', '''Adapter 2''', '''Adapter 3''', and '''Adapter 4'''.  If any of them has both '''Enable Network Adapter''' checked and a value of '''Host-only Adapter''' for '''Attached to''' (as should the [[CS50_Appliance_3|CS50 Appliance]] for '''Adapter 2'''), ensure that the adapter also has a value of '''vboxnet0''' now for '''Name''', selecting it yourself from the drop-down menu next to '''Name''' yourself if necessary.
# Click '''OK'''.
# Start whichever virtual machine originally triggered the problem (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]); it should now be gone.

=== Failed to load VMMR0.r0 (VERR_SUPLIB_OWNER_NOT_ROOT) ===

This message usually indicates that <tt>/Applications</tt> is not owned by <tt>root</tt> but, rather, by a user account (<i>e.g.</i>, your own).  To resolve this problem:

# Launch '''Applications > Utilities > Terminal''', which will provide you with a command-line environment on your own Mac.
# Type<pre>sudo chown root /Applications</pre>followed by Enter, inputting your password if prompted.
# Quit Terminal via '''File > Quit Terminal'''.
# Launch VirtualBox, if not already running.
# Start whichever virtual machine originally triggered the problem (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]); it should now be gone.

Source: http://forums.virtualbox.org/viewtopic.php?f=7&t=38825

=== Failed to load VMMR0.r0 (VERR_SUPLIB_WORLD_WRITABLE) ===

This message usually indicates that that <tt>/Applications</tt> is world-writable for some reason.  To resolve this problem:

# Launch '''Applications > Utilities > Terminal''', which will provide you with a command-line environment on your own Mac.
# Type<pre>sudo chmod o-w /Applications</pre>followed by Enter, inputting your password if prompted.
# Quit Terminal via '''File > Quit Terminal'''.
# Launch VirtualBox, if not already running.
# Start whichever virtual machine originally triggered the problem (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]); it should now be gone.

Source: http://forums.virtualbox.org/viewtopic.php?f=7&t=39179

= Windows =

== Installation ==

In the instructions below, '''4.x.y''' represents whatever version of VirtualBox is available on the day that you download it.

# Download the latest version of VirtualBox from http://www.virtualbox.org/wiki/Downloads by clicking '''x86/amd64''' to the right of '''VirtualBox 4.x.y for Windows Hosts'''.
# <html><span style="color: red;">Right-click the file you just downloaded and select <b>Run as administrator</b> from the menu that appears.</span></html>  (That sentence was in red because it's important!)  If asked whether you '''want to allow the following program to make changes to this computer''', click '''Yes'''.
# A window entitled '''Welcome to the Oracle VM VirtualBox 4.x.y Setup Wizard''' should then appear.  Click '''Next'''.
# A window entitled '''Custom Setup''' should then appear.  Odds are you won't need to change anything on this window, but do be sure that all of the features in the "tree" are checked (whereby a gray disk icon appears to the left of each).  You might need to click one or more plus (+) icons to see the whole tree.  There should <u>not</u> be a red X to the left of any feature.  Once certain that all features will be installed, click '''Next'''.
# Another window entitled '''Custom Setup''' should then ask you whether you'd like to create a shortcut on the desktop and/or in the Quick Launch Bar.  We recommend that you leave at least the first box checked.  Decide which to check, then click '''Next'''.
# A window entitled '''Warning: Network Interfaces''' might then try to scare you.  Not to worry, click '''Yes'''.
# A window entitled '''Ready to Install''' should then appear.  Click '''Install'''.  
# If prompted one or more times whether you would '''like to install this device software''', click '''Install''' each time.
# A few seconds or minutes later, a window entitled '''Oracle VM VirtualBox 4.x.y installation is complete''' should appear.  Leave '''Start Oracle VM VirtualBox 4.x.y after installation''' checked, then click '''Finish'''.  VirtualBox should launch.
# Select '''Preferences...''' under VirtualBox's '''File''' menu.
# Click '''Network'''.
# If '''VirtualBox Host-Only Ethernet Adapter''' does not already appear in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''VirtualBox Host-Only Ethernet Adapter''' should then appear in the box.
# Click '''VirtualBox Host-Only Ethernet Adapter''' in the white box under '''Host-only Networks''' in order to highlight it, if not highlighted already, then click the [[File:Virtualbox-screwdriver.png]] icon at right.
# Click '''Adapter''', if not highlighted already, and ensure that the four text fields below are as follows:
#* '''IPv4 Address:''' 192.168.56.1
#* '''IPv4 Network Mask:''' 255.255.255.0
#* '''IPv6 Address:'''
#* '''IPv6 Network Mask:''' 0
# Click '''OK'''.
# Click '''DHCP Server'''.  Ensure that '''Enable Server''' is checked and that the window contains precisely these values:
#* '''Server Address:''' 192.168.56.100
#* '''Server Mask:''' 255.255.255.0
#* '''Lower Address Bound:''' 192.168.56.101
#* '''Upper Address Bound:''' 192.168.56.254
# Click '''OK'''.
# Click '''OK'''.
# Download a ZIP file of the [[CS50_Appliance_3|CS50 Appliance]] at http://mirror.cs50.net/appliance/3/cs50-appliance-3-15-ovf.zip.  That ZIP file is over 1GB in size, so it might take a while to download.
# Once downloaded, unzip the ZIP file, and you should have a folder named '''cs50-appliance-3''' with two files within ('''cs50-appliance-3.ovf''' and '''cs50-appliance-3-disk1.vmdk''').  Odds are that folder's in your '''Downloads''' folder, unless you saved it elsewhere. Do <u>not</u> double-click '''cs50-appliance-3.ovf''' or '''cs50-appliance-3-disk1.vmdk'''.
# Launch VirtualBox, if not running already, as by single- or double-clicking its icon, wherever you installed it.
# Select '''Import Appliance...''' from VirtualBox's '''File''' menu.  
# Click '''Choose'''.
# Navigate your way to the '''cs50-appliance-3''' folder that you unzipped, highlight the '''cs50-appliance-3.ovf''' file within, and click '''Open'''.  Then click '''Next'''.
# You should see a summary of the appliance's settings.  Click '''Import'''.  
# You'll then be prompted to agree to the appliance's [http://creativecommons.org/licenses/by-nc-sa/3.0/ license].  If you click '''Agree''', you'll see '''CS50 Appliance 3''' in VirtualBox's left-hand menu after a few seconds or minutes.
# Click '''CS50 Appliance 3''' to highlight it, then click '''Start''' to start the appliance.

If you ultimately find that the [[CS50_Appliance_3|CS50 Appliance]] runs unbearably slow within VirtualBox, you might need to enable [[Hardware Virtualization|hardware virtualization]] on your PC.

== Troubleshooting ==

=== Nonexistent host networking interface, name &#39;&#39; (VERR_INTERNAL_ERROR) ===

For some reason, VirtualBox doesn't always come with a "host-only adapter" configured.  (A "host-only adapter" lets you connect to the [[CS50_Appliance_3|CS50 Appliance]] via HTTP, SSH, and the like.)  To resolve this problem:

# Launch VirtualBox.  (If VirtualBox is already running, shut down any virtual machines that are running, as by clicking the red circle in the top-left corner of each's window.)
# Select '''Preferences...''' under VirtualBox's '''File''' menu.
# Click '''Network'''.
# If '''VirtualBox Host-Only Ethernet Adapter''' does not already appear in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''VirtualBox Host-Only Ethernet Adapter''' should then appear in the box.
# Click '''OK'''.
# Single-click whichever virtual machine originally triggered the error (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]), then click '''Settings'''.
# Click '''Network'''.
# Click each of '''Adapter 1''', '''Adapter 2''', '''Adapter 3''', and '''Adapter 4'''.  If any of them has both '''Enable Network Adapter''' checked and a value of '''Host-only Adapter''' for '''Attached to''' (as should the [[CS50_Appliance_3|CS50 Appliance]] for '''Adapter 2'''), ensure that the adapter also has a value of '''VirtualBox Host-Only Ethernet Adapter''' now for '''Name''', selecting it yourself from the drop-down menu next to '''Name''' yourself if necessary.
# Click '''OK'''.
# Start whichever virtual machine originally triggered the problem (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]); it should now be gone.

=== Nonexistent host networking interface, name 'VirtualBox Host-Only Ethernet Adapter' (VERR_INTERNAL_ERROR) ===

Sometimes (<i>e.g.</i>, after an update), VirtualBox forgets about its "host-only adapter."  (A "host-only adapter" lets you connect to the [[CS50_Appliance_3|CS50 Appliance]] via HTTP, SSH, and the like.)  To resolve this problem:

# Launch VirtualBox.  (If VirtualBox is already running, shut down any virtual machines that are running, as by clicking the red circle in the top-left corner of each's window.)
# Select '''Preferences...''' under VirtualBox's '''File''' menu.
# Click '''Network'''.
# If '''VirtualBox Host-Only Ethernet Adapter''' does not already appear in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''VirtualBox Host-Only Ethernet Adapter''' should then appear in the box.
# Click '''OK'''.
# Single-click whichever virtual machine originally triggered the error (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]), then click '''Settings'''.
# Click '''Network'''.
# Click each of '''Adapter 1''', '''Adapter 2''', '''Adapter 3''', and '''Adapter 4'''.  If any of them has both '''Enable Network Adapter''' checked and a value of '''Host-only Adapter''' for '''Attached to''' (as should the [[CS50_Appliance_3|CS50 Appliance]] for '''Adapter 2'''), ensure that the adapter also has a value of '''VirtualBox Host-Only Ethernet Adapter''' now for '''Name''', selecting it yourself from the drop-down menu next to '''Name''' yourself if necessary.
# Click '''OK'''.
# Start whichever virtual machine originally triggered the problem (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]); it should now be gone.

=== The installer has encountered an unexpected error installing this package.  This may indicate a problem with this package.  The error code is 2869. ===

This problem generally indicates that VirtualBox's installer wasn't run as an "administrator."  To resolve this problem:

# Hit [[File:Windows.jpg]]-'''R''' on your keyboard (<i>i.e.</i>, hold the Windows key, then hit '''R''') to open a '''Run''' prompt.
# Input '''ncpa.cpl''' to the right of '''Open''', then hit Enter.
# A window entitled '''Network Connections''' should then appear, containing an icon called '''Wireless Network Connection''' and/or '''Local Area Connection''' (or similar).
#* If using <u>wireless</u> Internet, right-click '''Wireless Network Connection''' (or similar), then choose '''Properties''' from the menu that appears.  A window entitled '''Wireless Network Connection Properties''' (or similar) should then appear.
#* If using <u>wired</u> Internet, right-click '''Local Area Connection''' (or similar), then choose '''Properties''' from the menu that appears.  A window entitled '''Local Area Connection Properties''' (or similar) should then appear.
# Inside of that window should be a list of items, some (or all) of which are checked.  If '''VirtualBox Bridged Networking Driver''' appears in the list, single-click it to highlight it, then click '''Uninstall'''.
# If prompted if you are '''sure you want to uninstall''', click '''Yes'''.
# Click '''Close'''.
# Proceed to reinstall VirtualBox per [[#Windows|the directions above]].  '''Be sure to run the installer as an administrator.'''

Let [mailto:sysadmins@cs50.net sysadmins@cs50.net] know if VirtualBox's installer still fails, despite these steps!

=== The application "iphlpsvc.dll" needs to be closed for the installation to continue ===

This error generally precedes another error: '''The installer has encountered an unexpected error installing this package.  This may indicate a problem with this package.  The error code is 2869.'''

See [[#The_installer_has_encountered_an_unexpected_error_installing_this_package..C2.A0_This_may_indicate_a_problem_with_this_package..C2.A0_The_error_code_is_2869.|troubleshooting tips for that other error]].

=== The application "Install Queue" needs to be closed for the installation to continue ===

This error generally precedes another error: '''The installer has encountered an unexpected error installing this package.  This may indicate a problem with this package.  The error code is 2869.'''

See [[#The_installer_has_encountered_an_unexpected_error_installing_this_package..C2.A0_This_may_indicate_a_problem_with_this_package..C2.A0_The_error_code_is_2869.|troubleshooting tips for that other error]].

= Linux =

== Installation ==

# Download the latest version of VirtualBox from http://www.virtualbox.org/wiki/Linux_Downloads by clicking '''i386''' (if you're running a 32-bit OS) or '''AMD64''' (if you're running a 64-bit OS) to the right of your particular distribution.
# Install VirtualBox via the file you just downloaded in a manner consistent with your distribution (as with <tt>dpkg</tt>, <tt>rpm</tt>, or <tt>yum</tt>).
# Launch VirtualBox, as by single- or double-clicking its icon, wherever you installed it.
# Select '''Preferences...''' under VirtualBox's '''File''' menu.
# Click '''Network'''.
# If '''VirtualBox Host-Only Ethernet Adapter''' does not already appear in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''VirtualBox Host-Only Ethernet Adapter''' should then appear in the box.
# Click '''VirtualBox Host-Only Ethernet Adapter''' in the white box under '''Host-only Networks''' in order to highlight it, if not highlighted already, then click the [[File:Virtualbox-screwdriver.png]] icon at right.
# Click '''Adapter''', if not highlighted already, and ensure that the four text fields below are as follows:
#* '''IPv4 Address:''' 192.168.56.1
#* '''IPv4 Network Mask:''' 255.255.255.0
#* '''IPv6 Address:'''
#* '''IPv6 Network Mask:''' 0
# Click '''OK'''.
# Click '''DHCP Server'''.  Ensure that '''Enable Server''' is checked and that the window contains precisely these values:
#* '''Server Address:''' 192.168.56.100
#* '''Server Mask:''' 255.255.255.0
#* '''Lower Address Bound:''' 192.168.56.101
#* '''Upper Address Bound:''' 192.168.56.254
# Click '''OK'''.
# Click '''OK'''.
# Download a ZIP file of the [[CS50_Appliance_3|CS50 Appliance]] at http://mirror.cs50.net/appliance/3/cs50-appliance-3-15-ovf.zip.  That ZIP file is over 1GB in size, so it might take a while to download.
# Once downloaded, unzip the ZIP file, and you should have a folder named '''cs50-appliance-3''' with two files within ('''cs50-appliance-3.ovf''' and '''cs50-appliance-3-disk1.vmdk''').  Odds are that folder's in your '''Downloads''' folder, unless you saved it elsewhere. Do <u>not</u> double-click '''cs50-appliance-3.ovf''' or '''cs50-appliance-3-disk1.vmdk'''.
# Launch VirtualBox, if not running already, as by single- or double-clicking its icon, wherever you installed it.
# Select '''Import Appliance...''' from VirtualBox's '''File''' menu.  
# Click '''Choose'''.
# Navigate your way to the '''cs50-appliance-3''' folder that you unzipped, highlight the '''cs50-appliance-3.ovf''' file within, and click '''Open'''.  Then click '''Next'''.
# You should see a summary of the appliance's settings.  Click '''Import'''.  
# You'll then be prompted to agree to the appliance's [http://creativecommons.org/licenses/by-nc-sa/3.0/ license].  If you click '''Agree''', you'll see '''CS50 Appliance 3''' in VirtualBox's left-hand menu after a few seconds or minutes.
# Click '''CS50 Appliance 3''' to highlight it, then click '''Start''' to start the appliance.
If you find that virtual machines (like the [[CS50_Appliance_3|CS50 Appliance]]) run unbearably slow within VirtualBox, you might need to enable [[Hardware Virtualization|hardware virtualization]] on your computer.

== Troubleshooting ==

=== Nonexistent host networking interface, name &#39;&#39; (VERR_INTERNAL_ERROR) ===

For some reason, VirtualBox doesn't always come with a "host-only adapter" configured.  (A "host-only adapter" lets you connect to the [[CS50_Appliance_3|CS50 Appliance]] via HTTP, SSH, and the like.)  To resolve this problem:

# Launch VirtualBox.  (If VirtualBox is already running, shut down any virtual machines that are running, as by clicking the red circle in the top-left corner of each's window.)
# Select '''Preferences...''' under VirtualBox's '''File''' menu.
# Click '''Network'''.
# Assuming nothing appears in the white box under '''Host-only Networks''', click the [[File:Virtualbox-plus.png]] icon to the right of that box, and '''VirtualBox Host-Only Ethernet Adapter''' should then appear in the box.
# Click '''OK'''.
# Single-click whichever virtual machine originally triggered the error (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]), then click '''Settings'''.
# Click '''Network'''.
# Click each of '''Adapter 1''', '''Adapter 2''', '''Adapter 3''', and '''Adapter 4'''.  If any of them has both '''Enable Network Adapter''' checked and a value of '''Host-only Adapter''' for '''Attached to''' (as should the [[CS50_Appliance_3|CS50 Appliance]] for '''Adapter 2'''), ensure that the adapter also has a value of '''VirtualBox Host-Only Ethernet Adapter''' now for '''Name''', selecting it yourself from the drop-down menu next to '''Name''' yourself if necessary.
# Click '''OK'''.
# Start whichever virtual machine originally triggered the problem (<i>e.g.</i>, the [[CS50_Appliance_3|CS50 Appliance]]); it should now be gone.

[[Category:HOWTO]]